(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},hl={};var S_;function gA(){if(S_)return hl;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var b_;function pA(){return b_||(b_=1,Ed.exports=gA()),Ed.exports}var $=pA(),Td={exports:{}},Et={};var w_;function yA(){if(w_)return Et;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function F(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function ht(N,Q,tt){this.props=N,this.context=Q,this.refs=J,this.updater=tt||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},ht.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function dt(N,Q,tt){this.props=N,this.context=Q,this.refs=J,this.updater=tt||W}var Ft=dt.prototype=new _t;Ft.constructor=dt,nt(Ft,ht.prototype),Ft.isPureReactComponent=!0;var Gt=Array.isArray;function xt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(N,Q,tt){var it=tt.ref;return{$$typeof:r,type:N,key:Q,ref:it!==void 0?it:null,props:tt}}function M(N,Q){return C(N.type,Q,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function L(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return Q[tt]})}var w=/\/+/g;function Jt(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):Q.toString(36)}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(xt,xt):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,Q,tt,it,mt){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Rt=!1;if(N===null)Rt=!0;else switch(At){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(N.$$typeof){case r:case t:Rt=!0;break;case A:return Rt=N._init,q(Rt(N._payload),Q,tt,it,mt)}}if(Rt)return mt=mt(N),Rt=it===""?"."+Jt(N,0):it,Gt(mt)?(tt="",Rt!=null&&(tt=Rt.replace(w,"$&/")+"/"),q(mt,Q,tt,"",function(st){return st})):mt!=null&&(D(mt)&&(mt=M(mt,tt+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(w,"$&/")+"/")+Rt)),Q.push(mt)),1;Rt=0;var ge=it===""?".":it+":";if(Gt(N))for(var ie=0;ie<N.length;ie++)it=N[ie],At=ge+Jt(it,ie),Rt+=q(it,Q,tt,At,mt);else if(ie=F(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(it=N.next()).done;)it=it.value,At=ge+Jt(it,ie++),Rt+=q(it,Q,tt,At,mt);else if(At==="object"){if(typeof N.then=="function")return q(ve(N),Q,tt,it,mt);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function et(N,Q,tt){if(N==null)return N;var it=[],mt=0;return q(N,it,"","",function(At){return Q.call(tt,At,mt++)}),it}function ut(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Lt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},zt={map:et,forEach:function(N,Q,tt){et(N,function(){Q.apply(this,arguments)},tt)},count:function(N){var Q=0;return et(N,function(){Q++}),Q},toArray:function(N){return et(N,function(Q){return Q})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Et.Activity=S,Et.Children=zt,Et.Component=ht,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},Et.cache=function(N){return function(){return N.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(N,Q,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=nt({},N.props),mt=N.key;if(Q!=null)for(At in Q.key!==void 0&&(mt=""+Q.key),Q)!b.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(it[At]=Q[At]);var At=arguments.length-2;if(At===1)it.children=tt;else if(1<At){for(var Rt=Array(At),ge=0;ge<At;ge++)Rt[ge]=arguments[ge+2];it.children=Rt}return C(N.type,mt,it)},Et.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Et.createElement=function(N,Q,tt){var it,mt={},At=null;if(Q!=null)for(it in Q.key!==void 0&&(At=""+Q.key),Q)b.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=Q[it]);var Rt=arguments.length-2;if(Rt===1)mt.children=tt;else if(1<Rt){for(var ge=Array(Rt),ie=0;ie<Rt;ie++)ge[ie]=arguments[ie+2];mt.children=ge}if(N&&N.defaultProps)for(it in Rt=N.defaultProps,Rt)mt[it]===void 0&&(mt[it]=Rt[it]);return C(N,At,mt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(N){return{$$typeof:p,render:N}},Et.isValidElement=D,Et.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ut}},Et.memo=function(N,Q){return{$$typeof:_,type:N,compare:Q===void 0?null:Q}},Et.startTransition=function(N){var Q=I.T,tt={};I.T=tt;try{var it=N(),mt=I.S;mt!==null&&mt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(xt,Lt)}catch(At){Lt(At)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),I.T=Q}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(N){return I.H.use(N)},Et.useActionState=function(N,Q,tt){return I.H.useActionState(N,Q,tt)},Et.useCallback=function(N,Q){return I.H.useCallback(N,Q)},Et.useContext=function(N){return I.H.useContext(N)},Et.useDebugValue=function(){},Et.useDeferredValue=function(N,Q){return I.H.useDeferredValue(N,Q)},Et.useEffect=function(N,Q){return I.H.useEffect(N,Q)},Et.useEffectEvent=function(N){return I.H.useEffectEvent(N)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(N,Q,tt){return I.H.useImperativeHandle(N,Q,tt)},Et.useInsertionEffect=function(N,Q){return I.H.useInsertionEffect(N,Q)},Et.useLayoutEffect=function(N,Q){return I.H.useLayoutEffect(N,Q)},Et.useMemo=function(N,Q){return I.H.useMemo(N,Q)},Et.useOptimistic=function(N,Q){return I.H.useOptimistic(N,Q)},Et.useReducer=function(N,Q,tt){return I.H.useReducer(N,Q,tt)},Et.useRef=function(N){return I.H.useRef(N)},Et.useState=function(N){return I.H.useState(N)},Et.useSyncExternalStore=function(N,Q,tt){return I.H.useSyncExternalStore(N,Q,tt)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.3",Et}var R_;function gm(){return R_||(R_=1,Td.exports=yA()),Td.exports}var Pt=gm(),Ad={exports:{}},fl={},Sd={exports:{}},bd={};var C_;function _A(){return C_||(C_=1,(function(r){function t(q,et){var ut=q.length;q.push(et);t:for(;0<ut;){var Lt=ut-1>>>1,zt=q[Lt];if(0<l(zt,et))q[Lt]=et,q[ut]=zt,ut=Lt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var et=q[0],ut=q.pop();if(ut!==et){q[0]=ut;t:for(var Lt=0,zt=q.length,N=zt>>>1;Lt<N;){var Q=2*(Lt+1)-1,tt=q[Q],it=Q+1,mt=q[it];if(0>l(tt,ut))it<zt&&0>l(mt,tt)?(q[Lt]=mt,q[it]=ut,Lt=it):(q[Lt]=tt,q[Q]=ut,Lt=Q);else if(it<zt&&0>l(mt,ut))q[Lt]=mt,q[it]=ut,Lt=it;else break t}}return et}function l(q,et){var ut=q.sortIndex-et.sortIndex;return ut!==0?ut:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,x=3,F=!1,W=!1,nt=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ft(q){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=q)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function Gt(q){if(nt=!1,Ft(q),!W)if(i(y)!==null)W=!0,xt||(xt=!0,L());else{var et=i(_);et!==null&&ve(Gt,et.startTime-q)}}var xt=!1,I=-1,b=5,C=-1;function M(){return J?!0:!(r.unstable_now()-C<b)}function D(){if(J=!1,xt){var q=r.unstable_now();C=q;var et=!0;try{t:{W=!1,nt&&(nt=!1,_t(I),I=-1),F=!0;var ut=x;try{e:{for(Ft(q),S=i(y);S!==null&&!(S.expirationTime>q&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,x=S.priorityLevel;var zt=Lt(S.expirationTime<=q);if(q=r.unstable_now(),typeof zt=="function"){S.callback=zt,Ft(q),et=!0;break e}S===i(y)&&a(y),Ft(q)}else a(y);S=i(y)}if(S!==null)et=!0;else{var N=i(_);N!==null&&ve(Gt,N.startTime-q),et=!1}}break t}finally{S=null,x=ut,F=!1}et=void 0}}finally{et?L():xt=!1}}}var L;if(typeof dt=="function")L=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Jt=w.port2;w.port1.onmessage=D,L=function(){Jt.postMessage(null)}}else L=function(){ht(D,0)};function ve(q,et){I=ht(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(q){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ut=x;x=et;try{return q()}finally{x=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=x;x=q;try{return et()}finally{x=ut}},r.unstable_scheduleCallback=function(q,et,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,q){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ut+zt,q={id:A++,callback:et,priorityLevel:q,startTime:ut,expirationTime:zt,sortIndex:-1},ut>Lt?(q.sortIndex=ut,t(_,q),i(y)===null&&q===i(_)&&(nt?(_t(I),I=-1):nt=!0,ve(Gt,ut-Lt))):(q.sortIndex=zt,t(y,q),W||F||(W=!0,xt||(xt=!0,L()))),q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(q){var et=x;return function(){var ut=x;x=et;try{return q.apply(this,arguments)}finally{x=ut}}}})(bd)),bd}var I_;function vA(){return I_||(I_=1,Sd.exports=_A()),Sd.exports}var wd={exports:{}},We={};var D_;function EA(){if(D_)return We;D_=1;var r=gm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},We.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},We.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},We.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},We.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:F}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},We.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},We.requestFormReset=function(y){a.d.r(y)},We.unstable_batchedUpdates=function(y,_){return y(_)},We.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var N_;function TA(){if(N_)return wd.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=EA(),wd.exports}var O_;function AA(){if(O_)return fl;O_=1;var r=vA(),t=gm(),i=TA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Gt:return"Suspense";case xt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Jt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Jt(e(n))}catch{}}return null}var ve=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],zt=-1;function N(e){return{current:e}}function Q(e){0>zt||(e.current=Lt[zt],Lt[zt]=null,zt--)}function tt(e,n){zt++,Lt[zt]=e.current,e.current=n}var it=N(null),mt=N(null),At=N(null),Rt=N(null);function ge(e,n){switch(tt(At,n),tt(mt,e),tt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),tt(it,e)}function ie(){Q(it),Q(mt),Q(At)}function st(e){e.memoizedState!==null&&tt(Rt,e);var n=it.current,s=Ky(n,e.type);n!==s&&(tt(mt,e),tt(it,s))}function se(e){mt.current===e&&(Q(it),Q(mt)),Rt.current===e&&(Q(Rt),ol._currentValue=ut)}var Zt,Kt;function ae(e){if(Zt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zt=n&&n[1]||"",Kt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+e+Kt}var pe=!1;function ln(e,n){if(!e||pe)return"";pe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ae(s):""}function si(e,n){switch(e.tag){case 26:case 27:case 5:return ae(e.type);case 16:return ae("Lazy");case 13:return e.child!==n&&n!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return ln(e.type,!1);case 11:return ln(e.type.render,!1);case 1:return ln(e.type,!0);case 31:return ae("Activity");default:return""}}function Jr(e){try{var n="",s=null;do n+=si(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var he=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Th=r.unstable_shouldYield,Hl=r.unstable_requestPaint,rn=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,uo=r.unstable_ImmediatePriority,co=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,Fl=r.unstable_IdlePriority,Gl=r.log,Ql=r.unstable_setDisableYieldValue,Hn=null,Fe=null;function Cn(e){if(typeof Gl=="function"&&Ql(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Hn,e)}catch{}}var Ee=Math.clz32?Math.clz32:Yl,Kl=Math.log,Zr=Math.LN2;function Yl(e){return e>>>=0,e===0?32:31-(Kl(e)/Zr|0)|0}var ri=256,cr=262144,we=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(g&=E,g!==0?h=ai(g):s||(s=E&~e,s!==0&&(h=ai(s))))):(E=o&~f,E!==0?h=ai(E):g!==0?h=ai(g):s||(s=o&~e,s!==0&&(h=ai(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function li(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-Ee(s),K=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}s&=~K}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ho(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ee(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function fo(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Gn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Qn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Qn,je="__reactProps$"+Qn,ui="__reactContainer$"+Qn,Wr="__reactEvents$"+Qn,wh="__reactListeners$"+Qn,Jl="__reactHandles$"+Qn,Zl="__reactResources$"+Qn,ci="__reactMarker$"+Qn;function ta(e){delete e[Re],delete e[je],delete e[Wr],delete e[wh],delete e[Jl]}function hi(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=t_(e);e!==null;){if(s=e[Re])return s;e=t_(e)}return n}e=s,s=e.parentNode}return null}function In(e){if(e=e[Re]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fi(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[ci]=!0}var mo=new Set,go={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function Wl(e){return he.call(_o,e)?!0:he.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function ea(e,n,s){if(Wl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _n(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ie(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ms(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function un(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,g,Be(n)):s!=null?Eo(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function tu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Eo(e,n,s){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function eu(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function ps(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ve(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||nu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ao(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var So=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,pi=null;function pr(e){var n=In(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&mr(o)}break t;case"textarea":eu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&gs(e,!!s.multiple,n,!1)}}}var ra=!1;function vs(e,n,s){if(ra)return e(n,s);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(_s!==null||pi!==null)&&($u(),_s&&(n=_s,e=pi,pi=_s=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Nn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{yr=!1}var yi=null,bo=null,_r=null;function wo(){if(_r)return _r;var e,n=bo,s=n.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Xn(){return!1}function Ge(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Xn,this.isPropagationStopped=Xn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ge(Pi),Es=S({},Pi,{view:0,detail:0}),Ro=Ge(Es),Ts,aa,vi,oa=S({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Ts=e.screenX-vi.screenX,aa=e.screenY-vi.screenY):aa=Ts=0,vi=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Co=Ge(oa),Er=S({},oa,{dataTransfer:0}),su=Ge(Er),ru=S({},Es,{relatedTarget:0}),Tr=Ge(ru),Io=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),au=Ge(Io),la=S({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=Ge(la),lu=S({},Pi,{data:0}),Ei=Ge(lu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function As(){return fu}var an=S({},Es,{key:function(e){if(e.key){var n=uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=Ge(an),mu=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Ge(mu),u=S({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Ge(u),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ge(v),U=S({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Ge(U),Z=S({},Pi,{newState:0,oldState:0}),St=Ge(Z),Te=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,fe=null;Nn&&"documentMode"in document&&(fe=document.documentMode);var On=Nn&&"TextEvent"in window&&!fe,Ti=Nn&&(!qt||fe&&8<fe&&11>=fe),$n=" ",Jn=!1;function Ar(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function zT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Jn=!0,$n);case"textInput":return e=n.data,e===$n&&Jn?null:e;default:return null}}function jT(e,n){if(ca)return e==="compositionend"||!qt&&Ar(e,n)?(e=wo(),_r=bo=yi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!BT[e.type]:n==="textarea"}function sg(e,n,s,o){_s?pi?pi.push(o):pi=[o]:_s=o,n=ic(n,"onChange"),0<n.length&&(s=new _i("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Do=null,No=null;function qT(e){jy(e,0)}function gu(e){var n=yn(e);if(mr(n))return e}function rg(e,n){if(e==="change")return n}var ag=!1;if(Nn){var Rh;if(Nn){var Ch="oninput"in document;if(!Ch){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ch=typeof og.oninput=="function"}Rh=Ch}else Rh=!1;ag=Rh&&(!document.documentMode||9<document.documentMode)}function lg(){Do&&(Do.detachEvent("onpropertychange",ug),No=Do=null)}function ug(e){if(e.propertyName==="value"&&gu(No)){var n=[];sg(n,No,e,Dn(e)),vs(qT,n)}}function HT(e,n,s){e==="focusin"?(lg(),Do=n,No=s,Do.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function FT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(No)}function GT(e,n){if(e==="click")return gu(n)}function QT(e,n){if(e==="input"||e==="change")return gu(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:KT;function Oo(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!he.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var s=cg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cg(s)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gi(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YT=Nn&&"documentMode"in document&&11>=document.documentMode,ha=null,Dh=null,Mo=null,Nh=!1;function mg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nh||ha==null||ha!==gi(o)||(o=ha,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=ic(Dh,"onSelect"),0<o.length&&(n=new _i("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ha)))}function Sr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Oh={},gg={};Nn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function br(e){if(Oh[e])return Oh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gg)return Oh[e]=n[s];return e}var pg=br("animationend"),yg=br("animationiteration"),_g=br("animationstart"),XT=br("transitionrun"),$T=br("transitionstart"),JT=br("transitioncancel"),vg=br("transitionend"),Eg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Zn(e,n){Eg.set(e,n),di(n,[e])}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],da=0,Vh=0;function yu(){for(var e=da,n=Vh=da=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Tg(s,h,f)}}function _u(e,n,s,o){Mn[da++]=e,Mn[da++]=n,Mn[da++]=s,Mn[da++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return _u(e,n,s,o),vu(e)}function wr(e,n){return _u(e,null,null,n),vu(e)}function Tg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function vu(e){if(50<tl)throw tl=0,Ff=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function ZT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,o){return new ZT(e,n,s,o)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Lh(e)&&(g=1);else if(typeof e=="string")g=iA(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return Rr(s.children,h,f,n);case J:g=8,h|=24;break;case ht:return e=En(12,s,n,h|2),e.elementType=ht,e.lanes=f,e;case Gt:return e=En(13,s,n,h),e.elementType=Gt,e.lanes=f,e;case xt:return e=En(19,s,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case _t:g=9;break t;case Ft:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,s,o){return e=En(7,e,o,n),e.lanes=s,e}function Uh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function Sg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function kh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=bg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Jr(n)},bg.set(e,n),n)}return{value:e,source:n,stack:Jr(n)}}var ga=[],pa=0,Tu=null,Vo=0,xn=[],Ln=0,Ss=null,Ai=1,Si="";function Bi(e,n){ga[pa++]=Vo,ga[pa++]=Tu,Tu=e,Vo=n}function wg(e,n,s){xn[Ln++]=Ai,xn[Ln++]=Si,xn[Ln++]=Ss,Ss=e;var o=Ai;e=Si;var h=32-Ee(o)-1;o&=~(1<<h),s+=1;var f=32-Ee(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-Ee(n)+h|s<<h|o,Si=f+e}else Ai=1<<f|s<<h|o,Si=e}function Ph(e){e.return!==null&&(Bi(e,1),wg(e,1,0))}function zh(e){for(;e===Tu;)Tu=ga[--pa],ga[pa]=null,Vo=ga[--pa],ga[pa]=null;for(;e===Ss;)Ss=xn[--Ln],xn[Ln]=null,Si=xn[--Ln],xn[Ln]=null,Ai=xn[--Ln],xn[Ln]=null}function Rg(e,n){xn[Ln++]=Ai,xn[Ln++]=Si,xn[Ln++]=Ss,Ai=n.id,Si=n.overflow,Ss=e}var Qe=null,oe=null,Ut=!1,bs=null,Un=!1,jh=Error(a(519));function ws(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Vn(n,e)),jh}function Cg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Re]=e,n[je]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)It(nl[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ps(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Fy(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||ws(e,!0)}function Ig(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Qe=Qe.return}}function ya(e){if(e!==Qe)return!1;if(!Ut)return Ig(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&oe&&ws(e),Ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=Wy(e)}else n===27?(n=oe,zs(e.type)?(e=cd,cd=null,oe=e):oe=n):oe=Qe?Pn(e.stateNode.nextSibling):null;return!0}function Cr(){oe=Qe=null,Ut=!1}function Bh(){var e=bs;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),bs=null),e}function xo(e){bs===null?bs=[e]:bs.push(e)}var qh=N(null),Ir=null,qi=null;function Rs(e,n,s){tt(qh,n._currentValue),n._currentValue=s}function Hi(e){e._currentValue=qh.current,Q(qh)}function Hh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Fh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Hh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Hh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;vn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Rt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Fh(n,e,s,o),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Ir=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Dg(Ir,e)}function Su(e,n){return Ir===null&&Dr(e),Dg(e,n)}function Dg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},qi===null){if(e===null)throw Error(a(308));qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qi=qi.next=n;return s}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},t1=r.unstable_scheduleCallback,e1=r.unstable_NormalPriority,De={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new WT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&t1(e1,function(){e.controller.abort()})}var Uo=null,Qh=0,va=0,Ea=null;function n1(e,n){if(Uo===null){var s=Uo=[];Qh=0,va=$f(),Ea={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(Ng,Ng),n}function Ng(){if(--Qh===0&&Uo!==null){Ea!==null&&(Ea.status="fulfilled");var e=Uo;Uo=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function i1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Og=q.S;q.S=function(e,n){my=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(e,n),Og!==null&&Og(e,n)};var Nr=N(null);function Kh(){var e=Nr.current;return e!==null?e:re.pooledCache}function bu(e,n){n===null?tt(Nr,Nr.current):tt(Nr,n.pool)}function Mg(){var e=Kh();return e===null?null:{parent:De._currentValue,pool:e}}var Ta=Error(a(460)),Yh=Error(a(474)),wu=Error(a(542)),Ru={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ug(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ug(e),e}throw Mr=n,Ta}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mr=s,Ta):s}}var Mr=null;function Lg(){if(Mr===null)throw Error(a(459));var e=Mr;return Mr=null,e}function Ug(e){if(e===Ta||e===wu)throw Error(a(483))}var Aa=null,ko=0;function Cu(e){var n=ko;return ko+=1,Aa===null&&(Aa=[]),xg(Aa,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kg(e){function n(V,O){if(e){var k=V.deletions;k===null?(V.deletions=[O],V.flags|=16):k.push(O)}}function s(V,O){if(!e)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function o(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=ji(V,O),V.index=0,V.sibling=null,V}function f(V,O,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<O?(V.flags|=67108866,O):k):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,k,G){return O===null||O.tag!==6?(O=Uh(k,V.mode,G),O.return=V,O):(O=h(O,k),O.return=V,O)}function R(V,O,k,G){var ct=k.type;return ct===nt?H(V,O,k.props.children,G,k.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Or(ct)===O.type)?(O=h(O,k.props),Po(O,k),O.return=V,O):(O=Eu(k.type,k.key,k.props,null,V.mode,G),Po(O,k),O.return=V,O)}function P(V,O,k,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=kh(k,V.mode,G),O.return=V,O):(O=h(O,k.children||[]),O.return=V,O)}function H(V,O,k,G,ct){return O===null||O.tag!==7?(O=Rr(k,V.mode,G,ct),O.return=V,O):(O=h(O,k),O.return=V,O)}function K(V,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Uh(""+O,V.mode,k),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return k=Eu(O.type,O.key,O.props,null,V.mode,k),Po(k,O),k.return=V,k;case W:return O=kh(O,V.mode,k),O.return=V,O;case b:return O=Or(O),K(V,O,k)}if(ve(O)||L(O))return O=Rr(O,V.mode,k,null),O.return=V,O;if(typeof O.then=="function")return K(V,Cu(O),k);if(O.$$typeof===dt)return K(V,Su(V,O),k);Iu(V,O)}return null}function z(V,O,k,G){var ct=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:E(V,O,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return k.key===ct?R(V,O,k,G):null;case W:return k.key===ct?P(V,O,k,G):null;case b:return k=Or(k),z(V,O,k,G)}if(ve(k)||L(k))return ct!==null?null:H(V,O,k,G,null);if(typeof k.then=="function")return z(V,O,Cu(k),G);if(k.$$typeof===dt)return z(V,O,Su(V,k),G);Iu(V,k)}return null}function B(V,O,k,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(k)||null,E(O,V,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return V=V.get(G.key===null?k:G.key)||null,R(O,V,G,ct);case W:return V=V.get(G.key===null?k:G.key)||null,P(O,V,G,ct);case b:return G=Or(G),B(V,O,k,G,ct)}if(ve(G)||L(G))return V=V.get(k)||null,H(O,V,G,ct,null);if(typeof G.then=="function")return B(V,O,k,Cu(G),ct);if(G.$$typeof===dt)return B(V,O,k,Su(O,G),ct);Iu(O,G)}return null}function at(V,O,k,G){for(var ct=null,jt=null,ot=O,wt=O=0,Nt=null;ot!==null&&wt<k.length;wt++){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var Bt=z(V,ot,k[wt],G);if(Bt===null){ot===null&&(ot=Nt);break}e&&ot&&Bt.alternate===null&&n(V,ot),O=f(Bt,O,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt,ot=Nt}if(wt===k.length)return s(V,ot),Ut&&Bi(V,wt),ct;if(ot===null){for(;wt<k.length;wt++)ot=K(V,k[wt],G),ot!==null&&(O=f(ot,O,wt),jt===null?ct=ot:jt.sibling=ot,jt=ot);return Ut&&Bi(V,wt),ct}for(ot=o(ot);wt<k.length;wt++)Nt=B(ot,V,wt,k[wt],G),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?wt:Nt.key),O=f(Nt,O,wt),jt===null?ct=Nt:jt.sibling=Nt,jt=Nt);return e&&ot.forEach(function(Fs){return n(V,Fs)}),Ut&&Bi(V,wt),ct}function gt(V,O,k,G){if(k==null)throw Error(a(151));for(var ct=null,jt=null,ot=O,wt=O=0,Nt=null,Bt=k.next();ot!==null&&!Bt.done;wt++,Bt=k.next()){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var Fs=z(V,ot,Bt.value,G);if(Fs===null){ot===null&&(ot=Nt);break}e&&ot&&Fs.alternate===null&&n(V,ot),O=f(Fs,O,wt),jt===null?ct=Fs:jt.sibling=Fs,jt=Fs,ot=Nt}if(Bt.done)return s(V,ot),Ut&&Bi(V,wt),ct;if(ot===null){for(;!Bt.done;wt++,Bt=k.next())Bt=K(V,Bt.value,G),Bt!==null&&(O=f(Bt,O,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return Ut&&Bi(V,wt),ct}for(ot=o(ot);!Bt.done;wt++,Bt=k.next())Bt=B(ot,V,wt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?wt:Bt.key),O=f(Bt,O,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(mA){return n(V,mA)}),Ut&&Bi(V,wt),ct}function ne(V,O,k,G){if(typeof k=="object"&&k!==null&&k.type===nt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case F:t:{for(var ct=k.key;O!==null;){if(O.key===ct){if(ct=k.type,ct===nt){if(O.tag===7){s(V,O.sibling),G=h(O,k.props.children),G.return=V,V=G;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Or(ct)===O.type){s(V,O.sibling),G=h(O,k.props),Po(G,k),G.return=V,V=G;break t}s(V,O);break}else n(V,O);O=O.sibling}k.type===nt?(G=Rr(k.props.children,V.mode,G,k.key),G.return=V,V=G):(G=Eu(k.type,k.key,k.props,null,V.mode,G),Po(G,k),G.return=V,V=G)}return g(V);case W:t:{for(ct=k.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(V,O.sibling),G=h(O,k.children||[]),G.return=V,V=G;break t}else{s(V,O);break}else n(V,O);O=O.sibling}G=kh(k,V.mode,G),G.return=V,V=G}return g(V);case b:return k=Or(k),ne(V,O,k,G)}if(ve(k))return at(V,O,k,G);if(L(k)){if(ct=L(k),typeof ct!="function")throw Error(a(150));return k=ct.call(k),gt(V,O,k,G)}if(typeof k.then=="function")return ne(V,O,Cu(k),G);if(k.$$typeof===dt)return ne(V,O,Su(V,k),G);Iu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(V,O.sibling),G=h(O,k),G.return=V,V=G):(s(V,O),G=Uh(k,V.mode,G),G.return=V,V=G),g(V)):s(V,O)}return function(V,O,k,G){try{ko=0;var ct=ne(V,O,k,G);return Aa=null,ct}catch(ot){if(ot===Ta||ot===wu)throw ot;var jt=En(29,ot,null,V.mode);return jt.lanes=G,jt.return=V,jt}}}var Vr=kg(!0),Pg=kg(!1),Cs=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),Tg(e,null,s),n}return _u(e,o,n,s),vu(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}function Jh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Zh=!1;function jo(){if(Zh){var e=Ea;if(e!==null)throw e}}function Bo(e,n,s,o){Zh=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Dt&z)===z:(o&z)===z){z!==0&&z===va&&(Zh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;z=n;var ne=s;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){K=at.call(ne,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,z=typeof at=="function"?at.call(ne,K,z):at,z==null)break t;K=S({},K,z);break t;case 2:Cs=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=B,R=K):H=H.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),xs|=g,e.lanes=g,e.memoizedState=K}}function zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zg(s[e],n)}var Sa=N(null),Du=N(0);function Bg(e,n){e=Zi,tt(Du,e),tt(Sa,n),Zi=e|n.baseLanes}function Wh(){tt(Du,Zi),tt(Sa,Sa.current)}function tf(){Zi=Du.current,Q(Sa),Q(Du)}var Tn=N(null),kn=null;function Ns(e){var n=e.alternate;tt(Ae,Ae.current&1),tt(Tn,e),kn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(kn=e)}function ef(e){tt(Ae,Ae.current),tt(Tn,e),kn===null&&(kn=e)}function qg(e){e.tag===22?(tt(Ae,Ae.current),tt(Tn,e),kn===null&&(kn=e)):Os()}function Os(){tt(Ae,Ae.current),tt(Tn,Tn.current)}function An(e){Q(Tn),kn===e&&(kn=null),Q(Ae)}var Ae=N(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ld(s)||ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,bt=null,te=null,Ne=null,Ou=!1,ba=!1,xr=!1,Mu=0,qo=0,wa=null,s1=0;function ye(){throw Error(a(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,f){return Fi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?wp:vf,xr=!1,f=s(o,h),xr=!1,ba&&(f=Fg(n,s,o,h)),Hg(e),f}function Hg(e){q.H=Go;var n=te!==null&&te.next!==null;if(Fi=0,Ne=te=bt=null,Ou=!1,qo=0,wa=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Au(e)&&(Oe=!0))}function Fg(e,n,s,o){bt=e;var h=0;do{if(ba&&(wa=null),qo=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Ne=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Rp,f=n(s,o)}while(ba);return f}function r1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(bt.flags|=1024),n}function rf(){var e=Mu!==0;return Mu=0,e}function af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}Fi=0,Ne=te=bt=null,ba=!1,qo=Mu=0,wa=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?bt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Se(){if(te===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Ne===null?bt.memoizedState:Ne.next;if(n!==null)Ne=n,te=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ne===null?bt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,wa===null&&(wa=[]),e=xg(wa,e,n),n=bt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?wp:vf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===dt)return Ke(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Gi(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=Se();return uf(n,te,e)}function uf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,H=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Dt&K)===K:(Fi&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===va&&(H=!0);else if((Fi&z)===z){P=P.next,z===va&&(H=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,bt.lanes|=z,xs|=z;K=P.action,xr&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,bt.lanes|=K,xs|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!vn(f,e.memoizedState)&&(Oe=!0,H&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);vn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Gg(e,n,s){var o=bt,h=Se(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!vn((te||h).memoizedState,s);if(g&&(h.memoizedState=s,Oe=!0),h=h.queue,df(Yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},Kg.bind(null,o,h,s,n),null),re===null)throw Error(a(349));f||(Fi&127)!==0||Qg(o,n,s)}return s}function Qg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Vu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Kg(e,n,s,o){n.value=s,n.getSnapshot=o,Xg(n)&&$g(e)}function Yg(e,n,s){return s(function(){Xg(n)&&$g(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function $g(e){var n=wr(e,2);n!==null&&gn(n,e,2)}function hf(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),xr){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function Jg(e,n,s,o){return e.baseState=s,uf(e,te,typeof o=="function"?o:Gi)}function a1(e,n,s,o,h){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Zg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(h,o),R=q.S;R!==null&&R(g,E),Wg(e,n,E)}catch(P){ff(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,o),Wg(e,n,f)}catch(P){ff(e,n,P)}}function Wg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){tp(e,n,o)},function(o){return ff(e,n,o)}):tp(e,n,s)}function tp(e,n,s){n.status="fulfilled",n.value=s,ep(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Zg(e,s)))}function ff(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(Ut){var s=re.formState;if(s!==null){t:{var o=bt;if(Ut){if(oe){e:{for(var h=oe,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Pn(h.nextSibling),o=h.data==="F!";break t}}ws(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},s.queue=o,s=Ap.bind(null,bt,o),o.dispatch=s,o=hf(!1),f=_f.bind(null,bt,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=a1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function sp(e){var n=Se();return rp(n,te,e)}function rp(e,n,s){if(n=uf(e,n,np)[0],e=Lu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===Ta?wu:g}else o=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ra(9,{destroy:void 0},o1.bind(null,h,s),null)),[o,f,e]}function o1(e,n){e.action=n}function ap(e){var n=Se(),s=te;if(s!==null)return rp(n,s,e);Se(),n=n.memoizedState,s=Se();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ra(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Vu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function op(){return Se().memoizedState}function Uu(e,n,s,o){var h=on();bt.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,o===void 0?null:o)}function ku(e,n,s,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&nf(o,te.memoizedState.deps)?h.memoizedState=Ra(n,f,s,o):(bt.flags|=e,h.memoizedState=Ra(1|n,f,s,o))}function lp(e,n){Uu(8390656,8,e,n)}function df(e,n){ku(2048,8,e,n)}function l1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Vu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function up(e){var n=Se().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return ku(4,2,e,n)}function hp(e,n){return ku(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,s){s=s!=null?s.concat([e]):null,ku(4,4,fp.bind(null,n,e),s)}function mf(){}function mp(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function gp(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),xr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o}function gf(e,n,s){return s===void 0||(Fi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=py(),bt.lanes|=e,xs|=e,s)}function pp(e,n,s,o){return vn(s,n)?s:Sa.current!==null?(e=gf(e,s,o),vn(e,n)||(Oe=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Dt&261930)===0?(Oe=!0,e.memoizedState=s):(e=py(),bt.lanes|=e,xs|=e,n)}function yp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,_f(e,!1,n,s);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=i1(R,o);Fo(e,n,H,wn(e))}else Fo(e,n,o,wn(e))}catch(K){Fo(e,n,{then:function(){},status:"rejected",reason:K},wn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function u1(){}function pf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=_p(e).queue;yp(e,h,n,ut,s===null?u1:function(){return vp(e),s(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},wn())}function yf(){return Ke(ol)}function Ep(){return Se().memoizedState}function Tp(){return Se().memoizedState}function c1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=Is(s);var o=Ds(n,e,s);o!==null&&(gn(o,n,s),zo(o,n,s)),n={cache:Gh()},e.payload=n;return}n=n.return}}function h1(e,n,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(e)?Sp(n,s):(s=xh(e,n,s,o),s!==null&&(gn(s,e,o),bp(s,n,o)))}function Ap(e,n,s){var o=wn();Fo(e,n,s,o)}function Fo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,vn(E,g))return _u(e,n,h,0),re===null&&yu(),!1}catch{}if(s=xh(e,n,h,o),s!==null)return gn(s,e,o),bp(s,n,o),!0}return!1}function _f(e,n,s,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=xh(e,s,o,2),n!==null&&gn(n,e,2)}function Pu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Sp(e,n){ba=Ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function bp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}var Go={readContext:Ke,use:xu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Go.useEffectEvent=ye;var wp={readContext:Ke,use:xu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:lp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,fp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(xr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(xr){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=h1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,s=Ap.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mf,useDeferredValue:function(e,n){var s=on();return gf(s,e,n)},useTransition:function(){var e=hf(!1);return e=yp.bind(null,bt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=on();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Dt&127)!==0||Qg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},Kg.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=re.identifierPrefix;if(Ut){var s=Si,o=Ai;s=(o&~(1<<32-Ee(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=s1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_f.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return on().memoizedState=c1.bind(null,bt)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},vf={readContext:Ke,use:xu,useCallback:mp,useContext:Ke,useEffect:df,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:Lu,useRef:op,useState:function(){return Lu(Gi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=Se();return pp(s,te.memoizedState,e,n)},useTransition:function(){var e=Lu(Gi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Ep,useHostTransitionStatus:yf,useFormState:sp,useActionState:sp,useOptimistic:function(e,n){var s=Se();return Jg(s,te,e,n)},useMemoCache:lf,useCacheRefresh:Tp};vf.useEffectEvent=up;var Rp={readContext:Ke,use:xu,useCallback:mp,useContext:Ke,useEffect:df,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:cf,useRef:op,useState:function(){return cf(Gi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=Se();return te===null?gf(s,e,n):pp(s,te.memoizedState,e,n)},useTransition:function(){var e=cf(Gi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Ep,useHostTransitionStatus:yf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=Se();return te!==null?Jg(s,te,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Tp};Rp.useEffectEvent=up;function Ef(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=wn(),h=Is(o);h.payload=n,s!=null&&(h.callback=s),n=Ds(e,h,o),n!==null&&(gn(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=wn(),h=Is(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ds(e,h,o),n!==null&&(gn(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),o=Is(s);o.tag=2,n!=null&&(o.callback=n),n=Ds(e,o,s),n!==null&&(gn(n,e,s),zo(n,e,s))}};function Cp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(h,f):!0}function Ip(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Dp(e){pu(e)}function Np(e){console.error(e)}function Op(e){pu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,s){return s=Is(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Vp(e){return e=Is(e),e.tag=3,e}function xp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Mp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mp(n,s,o),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function f1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return kn===null?Ju():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Kf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Kf(e,o,h)),!1}throw Error(a(435,s.tag))}return Kf(e,o,h),Ju(),!1}if(Ut)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==jh&&(e=Error(a(422),{cause:o}),xo(Vn(e,s)))):(o!==jh&&(n=Error(a(423),{cause:o}),xo(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,s),h=Af(e.stateNode,o,h),Jh(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,s),Wo===null?Wo=[f]:Wo.push(f),_e!==4&&(_e=2),n===null)return!0;o=Vn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Af(s.stateNode,o,e),Jh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Vp(h),xp(h,e,s,o),Jh(s,h),!1}s=s.return}while(s!==null);return!1}var Sf=Error(a(461)),Oe=!1;function Ye(e,n,s,o){n.child=e===null?Pg(n,null,s,o):Vr(n,e.child,s,o)}function Lp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Dr(n),o=sf(e,n,s,g,f,h),E=rf(),e!==null&&!Oe?(af(e,n,h),Qi(e,n,h)):(Ut&&E&&Ph(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Up(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,kp(e,n,f,o,h)):(e=Eu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(g,o)&&e.ref===n.ref)return Qi(e,n,h)}return n.flags|=1,e=ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function kp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Qi(e,n,h)}return bf(e,n,s,o,h)}function Pp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Bg(n,f):Wh(),qg(n);else return o=n.lanes=536870912,zp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),Bg(n,f),Os(),n.memoizedState=null):(e!==null&&bu(n,null),Wh(),Os());return Ye(e,n,h,s),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(e,n,s,o,h){var f=Kh();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Wh(),qg(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jp(e,n,s){return Vr(n,e.child,null,s),e=ju(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function d1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Qo(null,e);if(ef(n),(e=oe)?(e=Zy(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,Qe=n,oe=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ef(n),h)if(n.flags&256)n.flags&=-257,n=jp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Oe||h){if(o=re,o!==null&&(g=fo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),gn(o,e,g),Sf;Ju(),n=jp(e,n,s)}else e=f.treeContext,oe=Pn(g.nextSibling),Qe=n,Ut=!0,bs=null,Un=!1,e!==null&&Rg(n,e),n=ju(n,o),n.flags|=4096;return n}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function bf(e,n,s,o,h){return Dr(n),s=sf(e,n,s,o,void 0,h),o=rf(),e!==null&&!Oe?(af(e,n,h),Qi(e,n,h)):(Ut&&o&&Ph(n),n.flags|=1,Ye(e,n,s,h),n.child)}function Bp(e,n,s,o,h,f){return Dr(n),n.updateQueue=null,s=Fg(n,o,s,h),Hg(e),o=rf(),e!==null&&!Oe?(af(e,n,f),Qi(e,n,f)):(Ut&&o&&Ph(n),n.flags|=1,Ye(e,n,s,f),n.child)}function qp(e,n,s,o,h){if(Dr(n),n.stateNode===null){var f=ma,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):ma,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Lr(s,E);f.props=R;var P=f.context,H=s.contextType;g=ma,typeof H=="object"&&H!==null&&(g=Ke(H));var K=s.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Ip(n,f,o,g),Cs=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),jo(),P=n.memoizedState,E||z!==P||Cs?(typeof K=="function"&&(Ef(n,s,K,o),P=n.memoizedState),(R=Cs||Cp(n,s,R,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),g=n.memoizedProps,H=Lr(s,g),f.props=H,K=n.pendingProps,z=f.context,P=s.contextType,R=ma,typeof P=="object"&&P!==null&&(R=Ke(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&Ip(n,f,o,R),Cs=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),jo();var B=n.memoizedState;g!==K||z!==B||Cs||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(Ef(n,s,E,o),B=n.memoizedState),(H=Cs||Cp(n,s,H,o,z,B,R)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vr(n,e.child,null,h),n.child=Vr(n,null,s,h)):Ye(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Qi(e,n,h),e}function Hp(e,n,s,o){return Cr(),n.flags|=256,Ye(e,n,s,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Mg()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=bn),e}function Fp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ns(n):Os(),(e=oe)?(e=Zy(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,Qe=n,oe=null)):e=null,e===null)throw ws(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Os(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=Rr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=Cf(e,g,s),n.memoizedState=wf,Qo(null,o)):(Ns(n),If(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Df(e,n,s)):n.memoizedState!==null?(Os(),n.child=e.child,n.flags|=128,n=null):(Os(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=Rr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vr(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=Cf(e,g,s),n.memoizedState=wf,n=Qo(null,o));else if(Ns(n),ud(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=Df(e,n,s)}else if(Oe||_a(e,n,s,!1),g=(s&e.childLanes)!==0,Oe||g){if(g=re,g!==null&&(o=fo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,wr(e,o),gn(g,e,o),Sf;ld(E)||Ju(),n=Df(e,n,s)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Pn(E.nextSibling),Qe=n,Ut=!0,bs=null,Un=!1,e!==null&&Rg(n,e),n=If(n,o.children),n.flags|=4096);return n}return h?(Os(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=ji(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=ji(P,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Mg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Cf(e,g,s),n.memoizedState=wf,Qo(e.child,o)):(Ns(n),s=e.child,e=s.sibling,s=ji(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function If(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Df(e,n,s){return Vr(n,e.child,null,s),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,s)}function Nf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Qp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(Ae,g),Ye(e,n,o,s),o=Ut?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,s,n);else if(e.tag===19)Gp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Nu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Nf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Nf(n,!0,s,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ji(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ji(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function m1(e,n,s){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),Rs(n,De,e.memoizedState.cache),Cr();break;case 27:case 5:st(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fp(e,n,s):(Ns(n),e=Qi(e,n,s),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(_a(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Qp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,s,n.pendingProps);case 24:Rs(n,De,e.memoizedState.cache)}return Qi(e,n,s)}function Kp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Of(e,s)&&(n.flags&128)===0)return Oe=!1,m1(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,Ut&&(n.flags&1048576)!==0&&wg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Lh(e)?(o=Lr(e,o),n.tag=1,n=qp(null,n,e,o,s)):(n.tag=0,n=bf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=Lp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Up(null,n,e,o,s);break t}}throw n=Jt(e)||e,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Lr(o,n.pendingProps),qp(e,n,o,h,s);case 3:t:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,$h(e,n),Bo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Rs(n,De,o),o!==f.cache&&Fh(n,[De],s,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,s);break t}else if(o!==h){h=Vn(Error(a(424)),n),xo(h),n=Hp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Pn(e.firstChild),Qe=n,Ut=!0,bs=null,Un=!0,s=Pg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),o===h){n=Qi(e,n,s);break t}Ye(e,n,o,s)}n=n.child}return n;case 26:return Bu(e,n),e===null?(s=s_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=sc(At.current).createElement(s),o[Re]=n,o[je]=e,Xe(o,s,e),Ce(o),n.stateNode=o):n.memoizedState=s_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return st(n),e===null&&Ut&&(o=n.stateNode=e_(n.type,n.pendingProps,At.current),Qe=n,Un=!0,h=oe,zs(n.type)?(cd=h,oe=Pn(o.firstChild)):oe=h),Ye(e,n,n.pendingProps.children,s),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=oe)&&(o=F1(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,Qe=n,oe=Pn(o.firstChild),Un=!1,h=!0):h=!1),h||ws(n)),st(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,rd(h,f)?o=null:g!==null&&rd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,r1,null,null,s),ol._currentValue=h),Bu(e,n),Ye(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=oe)&&(s=G1(s,n.pendingProps,Un),s!==null?(n.stateNode=s,Qe=n,oe=null,e=!0):e=!1),e||ws(n)),null;case 13:return Fp(e,n,s);case 4:return ge(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vr(n,null,o,s):Ye(e,n,o,s),n.child;case 11:return Lp(e,n,n.type,n.pendingProps,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),Ye(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=Ke(h),o=o(h),n.flags|=1,Ye(e,n,o,s),n.child;case 14:return Up(e,n,n.type,n.pendingProps,s);case 15:return kp(e,n,n.type,n.pendingProps,s);case 19:return Qp(e,n,s);case 31:return d1(e,n,s);case 22:return Pp(e,n,s,n.pendingProps);case 24:return Dr(n),o=Ke(De),e===null?(h=Kh(),h===null&&(h=re,f=Gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Xh(n),Rs(n,De,h)):((e.lanes&s)!==0&&($h(e,n),Bo(n,null,null,s),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,De,o)):(o=f.cache,Rs(n,De,o),o!==h.cache&&Fh(n,[De],s,!0))),Ye(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ki(e){e.flags|=4}function Mf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Mr=Ru,Yh}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw Mr=Ru,Yh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xl():536870912,e.lanes|=n,Na|=n)}function Ko(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function g1(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(De),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(le(n),Yp(n,f)):(le(n),Mf(n,h,null,o,s))):f?f!==e.memoizedState?(Ki(n),le(n),Yp(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(n),le(n),Mf(n,h,e,o,s)),null;case 27:if(se(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=it.current,ya(n)?Cg(n):(e=e_(h,o,s),n.stateNode=e,Ki(n))}return le(n),null;case 5:if(se(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=it.current,ya(n))Cg(n);else{var g=sc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(n)}}return le(n),Mf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,s)),e||ws(n,!0)}else e=sc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Hu(n,n.updateQueue),le(n),null);case 4:return ie(),e===null&&td(n.stateNode.containerInfo),le(n),null;case 10:return Hi(n.type),le(n),null;case 19:if(Q(Ae),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ag(s,e),s=s.sibling;return tt(Ae,Ae.current&1|2),Ut&&Bi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&rn()>Yu&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return le(n),null}else 2*rn()-o.renderingStartTime>Yu&&s!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,s=Ae.current,tt(Ae,h?s&1|2:s&1),Ut&&Bi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return An(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&Hu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Nr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Hi(De),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p1(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(De),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return se(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ae),null;case 4:return ie(),null;case 10:return Hi(n.type),null;case 22:case 23:return An(n),tf(),e!==null&&Q(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hi(De),null;case 25:return null;default:return null}}function Xp(e,n){switch(zh(n),n.tag){case 3:Hi(De),ie();break;case 26:case 27:case 5:se(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Q(Ae);break;case 10:Hi(n.type);break;case 22:case 23:An(n),tf(),e!==null&&Q(Nr);break;case 24:Hi(De)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function Ms(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(H){$t(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function $p(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{jg(n,s)}catch(o){$t(e,e.return,o)}}}function Jp(e,n,s){s.props=Lr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function bi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Zp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Vf(e,n,s){try{var o=e.stateNode;P1(o,e.type,s,n),o[je]=n}catch(h){$t(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Lf(e,n,s),e=e.sibling;e!==null;)Lf(e,n,s),e=e.sibling}function Fu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,s),n[Re]=e,n[je]=s}catch(f){$t(e,e.return,f)}}var Yi=!1,Me=!1,Uf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,qe=null;function y1(e,n){if(e=e.containerInfo,id=hc,e=dg(e),Ih(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,H=0,K=e,z=null;e:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++H===o&&(R=g),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},hc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Lr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function ny(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:$i(e,s),o&4&&Yo(5,s);break;case 1:if($i(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&$p(s),o&512&&Xo(s,s.return);break;case 3:if($i(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{jg(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&ty(s);case 26:case 5:$i(e,s),n===null&&o&4&&Zp(s),o&512&&Xo(s,s.return);break;case 12:$i(e,s);break;case 31:$i(e,s),o&4&&ry(e,s);break;case 13:$i(e,s),o&4&&ay(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=R1.bind(null,s),Q1(e,s))));break;case 22:if(o=s.memoizedState!==null||Yi,!o){n=n!==null&&n.memoizedState!==null||Me,h=Yi;var f=Me;Yi=o,(Me=n)&&!f?Ji(e,s,(s.subtreeFlags&8772)!==0):$i(e,s),Yi=h,Me=f}break;case 30:break;default:$i(e,s)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,hn=!1;function Xi(e,n,s){for(s=s.child;s!==null;)sy(e,n,s),s=s.sibling}function sy(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:Me||bi(s,n),Xi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||bi(s,n);var o=de,h=hn;zs(s.type)&&(de=s.stateNode,hn=!1),Xi(e,n,s),sl(s.stateNode),de=o,hn=h;break;case 5:Me||bi(s,n);case 6:if(o=de,h=hn,de=null,Xi(e,n,s),de=o,hn=h,de!==null)if(hn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:de!==null&&(hn?(e=de,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):$y(de,s.stateNode));break;case 4:o=de,h=hn,de=s.stateNode.containerInfo,hn=!0,Xi(e,n,s),de=o,hn=h;break;case 0:case 11:case 14:case 15:Ms(2,s,n),Me||Ms(4,s,n),Xi(e,n,s);break;case 1:Me||(bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Jp(s,n,o)),Xi(e,n,s);break;case 21:Xi(e,n,s);break;case 22:Me=(o=Me)||s.memoizedState!==null,Xi(e,n,s),Me=o;break;default:Xi(e,n,s)}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){$t(n,n.return,s)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){$t(n,n.return,s)}}function _1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function Gu(e,n){var s=_1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=C1.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){de=E.stateNode,hn=!1;break t}break;case 5:de=E.stateNode,hn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(de===null)throw Error(a(160));sy(f,g,h),de=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Wn=null;function oy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(Ms(3,e,e.return),Yo(3,e),Ms(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(Me||s===null||bi(s,s.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Wn;if(fn(n,e),dn(e),o&512&&(Me||s===null||bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,s),f[Re]=e,Ce(f),o=f;break t;case"link":var g=o_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=o_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ce(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(Me||s===null||bi(s,s.return)),s!==null&&o&4&&Vf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(Me||s===null||bi(s,s.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(at){$t(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){$t(e,e.return,at)}}break;case 3:if(oc=null,h=Wn,Wn=rc(n.containerInfo),fn(n,e),Wn=h,dn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(at){$t(e,e.return,at)}Uf&&(Uf=!1,ly(e));break;case 4:o=Wn,Wn=rc(e.stateNode.containerInfo),fn(n,e),dn(e),Wn=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ku=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Yi,H=Me;if(Yi=P||h,Me=H||R,fn(n,e),Me=H,Yi=P,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Yi||Me||Ur(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){$t(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){$t(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?Jy(B,!0):Jy(R.stateNode,!1)}catch(at){$t(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Gu(e,s))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Wp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);Fu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var E=xf(e);Fu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=xf(e);Lf(e,P,R);break;default:throw Error(a(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),Ur(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jp(n,n.return,s),Ur(n);break;case 27:sl(n.stateNode);case 26:case 5:bi(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function Ji(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,s),Yo(4,f);break;case 1:if(Ji(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)zg(R[h],E)}catch(P){$t(o,o.return,P)}}s&&g&64&&$p(f),Xo(f,f.return);break;case 27:ty(f);case 26:case 5:Ji(h,f,s),s&&o===null&&g&4&&Zp(f),Xo(f,f.return);break;case 12:Ji(h,f,s);break;case 31:Ji(h,f,s),s&&g&4&&ry(h,f);break;case 13:Ji(h,f,s),s&&g&4&&ay(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,s),Xo(f,f.return);break;case 30:break;default:Ji(h,f,s)}n=n.sibling}}function kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lo(s))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function ti(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,s,o),n=n.sibling}function uy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,o),h&2048&&Yo(9,n);break;case 1:ti(e,n,s,o);break;case 3:ti(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){ti(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ti(e,n,s,o);break;case 31:ti(e,n,s,o);break;case 13:ti(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,s,o):$o(e,n):f._visibility&2?ti(e,n,s,o):(f._visibility|=2,Ca(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(g,n);break;case 24:ti(e,n,s,o),h&2048&&Pf(n.alternate,n);break;default:ti(e,n,s,o)}}function Ca(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,R,h),Yo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ca(f,g,E,R,h):$o(f,g):(H._visibility|=2,Ca(f,g,E,R,h)),h&&P&2048&&kf(g.alternate,g);break;case 24:Ca(f,g,E,R,h),h&&P&2048&&Pf(g.alternate,g);break;default:Ca(f,g,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:$o(s,o),h&2048&&kf(o.alternate,o);break;case 24:$o(s,o),h&2048&&Pf(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Jo=8192;function Ia(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)cy(e,n,s),e=e.sibling}function cy(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&Jo&&e.memoizedState!==null&&sA(s,Wn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=Wn;Wn=rc(e.stateNode.containerInfo),Ia(e,n,s),Wn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Ia(e,n,s),Jo=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Zo(e);break;default:Zo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function dy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(iy(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var v1={getCacheForType:function(e){var n=Ke(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(De).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,re=null,Ct=null,Dt=0,Xt=0,Sn=null,Vs=!1,Da=!1,zf=!1,Zi=0,_e=0,xs=0,kr=0,jf=0,bn=0,Na=0,Wo=null,mn=null,Bf=!1,Ku=0,my=0,Yu=1/0,Xu=null,Ls=null,ke=0,Us=null,Oa=null,Wi=0,qf=0,Hf=null,gy=null,tl=0,Ff=null;function wn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:q.T!==null?$f():$l()}function py(){if(bn===0)if((Dt&536870912)===0||Ut){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function gn(e,n,s){(e===re&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),ks(e,Dt,bn,!1)),hr(e,s),((Ht&2)===0||e!==re)&&(e===re&&((Ht&2)===0&&(kr|=s),_e===4&&ks(e,Dt,bn,!1)),wi(e))}function yy(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?S1(e,n):Qf(e,n,!0),f=o;do{if(h===0){Da&&!o&&ks(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!T1(s)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Wo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,g).flags|=256),g=Qf(E,g,!1),g!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,bn,!Vs);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ku+300-rn(),10<h)){if(ks(o,n,bn,!Vs),oi(o,0,!0)!==0)break t;Wi=n,o.timeoutHandle=Yy(_y.bind(null,o,s,mn,Xu,Bf,n,bn,kr,Na,Vs,f,"Throttled",-0,0),h);break t}_y(o,s,mn,Xu,Bf,n,bn,kr,Na,Vs,f,null,-0,0)}}break}while(!0);wi(e)}function _y(e,n,s,o,h,f,g,E,R,P,H,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},cy(n,f,K);var at=(f&62914560)===f?Ku-rn():(f&4194048)===f?my-rn():0;if(at=rA(K,at),at!==null){Wi=f,e.cancelPendingCommit=at(Ry.bind(null,e,n,f,s,o,h,g,E,R,H,K,null,z,B)),ks(e,f,g,!P);return}}Ry(e,n,f,s,o,h,g,E,R)}function T1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,s,o){n&=~jf,n&=~kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function $u(){return(Ht&6)===0?(el(0),!1):!0}function Gf(){if(Ct!==null){if(Xt===0)var e=Ct.return;else e=Ct,qi=Ir=null,of(e),Aa=null,ko=0,e=Ct;for(;e!==null;)Xp(e.alternate,e),e=e.return;Ct=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,B1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Wi=0,Gf(),re=e,Ct=s=ji(e.current,null),Dt=n,Xt=0,Sn=null,Vs=!1,Da=Fn(e,n),zf=!1,Na=bn=jf=kr=xs=_e=0,mn=Wo=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return Zi=n,yu(),s}function vy(e,n){bt=null,q.H=Go,n===Ta||n===wu?(n=Lg(),Xt=3):n===Yh?(n=Lg(),Xt=4):Xt=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ct===null&&(_e=1,zu(e,Vn(n,e.current)))}function Ey(){var e=Tn.current;return e===null?!0:(Dt&4194048)===Dt?kn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===kn:!1}function Ty(){var e=q.H;return q.H=Go,e===null?Go:e}function Ay(){var e=q.A;return q.A=v1,e}function Ju(){_e=4,Vs||(Dt&4194048)!==Dt&&Tn.current!==null||(Da=!0),(xs&134217727)===0&&(kr&134217727)===0||re===null||ks(re,Dt,bn,!1)}function Qf(e,n,s){var o=Ht;Ht|=2;var h=Ty(),f=Ay();(re!==e||Dt!==n)&&(Xu=null,Ma(e,n)),n=!1;var g=_e;t:do try{if(Xt!==0&&Ct!==null){var E=Ct,R=Sn;switch(Xt){case 8:Gf(),g=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Xt;if(Xt=0,Sn=null,Va(e,E,R,P),s&&Da){g=0;break t}break;default:P=Xt,Xt=0,Sn=null,Va(e,E,R,P)}}A1(),g=_e;break}catch(H){vy(e,H)}while(!0);return n&&e.shellSuspendCounter++,qi=Ir=null,Ht=o,q.H=h,q.A=f,Ct===null&&(re=null,Dt=0,yu()),g}function A1(){for(;Ct!==null;)Sy(Ct)}function S1(e,n){var s=Ht;Ht|=2;var o=Ty(),h=Ay();re!==e||Dt!==n?(Xu=null,Yu=rn()+500,Ma(e,n)):Da=Fn(e,n);t:do try{if(Xt!==0&&Ct!==null){n=Ct;var f=Sn;e:switch(Xt){case 1:Xt=0,Sn=null,Va(e,n,f,1);break;case 2:case 9:if(Vg(f)){Xt=0,Sn=null,by(n);break}n=function(){Xt!==2&&Xt!==9||re!==e||(Xt=7),wi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Vg(f)?(Xt=0,Sn=null,by(n)):(Xt=0,Sn=null,Va(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?u_(g):E.stateNode.complete){Xt=0,Sn=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,Zu(P)):Ct=null}break e}}Xt=0,Sn=null,Va(e,n,f,5);break;case 6:Xt=0,Sn=null,Va(e,n,f,6);break;case 8:Gf(),_e=6;break t;default:throw Error(a(462))}}b1();break}catch(H){vy(e,H)}while(!0);return qi=Ir=null,q.H=o,q.A=h,Ht=s,Ct!==null?0:(re=null,Dt=0,yu(),_e)}function b1(){for(;Ct!==null&&!Th();)Sy(Ct)}function Sy(e){var n=Kp(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?Zu(e):Ct=n}function by(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Bp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:of(n);default:Xp(s,n),n=Ct=Ag(n,Zi),n=Kp(s,n,Zi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Ct=n}function Va(e,n,s,o){qi=Ir=null,of(n),Aa=null,ko=0;var h=n.return;try{if(f1(e,h,n,s,Dt)){_e=1,zu(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;_e=1,zu(e,Vn(s,e.current)),Ct=null;return}n.flags&32768?(Ut||o===1?e=!0:Da||(Dt&536870912)!==0?e=!1:(Vs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Vs);return}e=n.return;var s=g1(n.alternate,n,Zi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);_e===0&&(_e=5)}function wy(e,n){do{var s=p1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);_e=6,Ct=null}function Ry(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do Wu();while(ke!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,bh(e,s,f,g,E,R),e===re&&(Ct=re=null,Dt=0),Oa=n,Us=e,Wi=s,qf=f,Hf=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(ds,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=et.p,et.p=2,g=Ht,Ht|=4;try{y1(e,n,s)}finally{Ht=g,et.p=h,q.T=o}}ke=1,Cy(),Iy(),Dy()}}function Cy(){if(ke===1){ke=0;var e=Us,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{oy(n,e);var f=sd,g=dg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(R!==null&&Ih(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),at=E.textContent.length,gt=Math.min(R.start,at),ne=R.end===void 0?gt:Math.min(R.end,at);!B.extend&&gt>ne&&(g=ne,ne=gt,gt=g);var V=hg(E,gt),O=hg(E,ne);if(V&&O&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var k=K.createRange();k.setStart(V.node,V.offset),B.removeAllRanges(),gt>ne?(B.addRange(k),B.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),B.addRange(k))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}hc=!!id,sd=id=null}finally{Ht=h,et.p=o,q.T=s}}e.current=n,ke=2}}function Iy(){if(ke===2){ke=0;var e=Us,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{ny(e,n.alternate,n)}finally{Ht=h,et.p=o,q.T=s}}ke=3}}function Dy(){if(ke===4||ke===3){ke=0,Hl();var e=Us,n=Oa,s=Wi,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Oa=Us=null,Ny(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ls=null),Ui(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=et.p,et.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=h}}(Wi&3)!==0&&Wu(),wi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Ff?tl++:(tl=0,Ff=e):tl=0,el(0)}}function Ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function Wu(){return Cy(),Iy(),Dy(),Oy()}function Oy(){if(ke!==5)return!1;var e=Us,n=qf;qf=0;var s=Ui(Wi),o=q.T,h=et.p;try{et.p=32>s?32:s,q.T=null,s=Hf,Hf=null;var f=Us,g=Wi;if(ke=0,Oa=Us=null,Wi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,fy(f.current),uy(f,f.current,g,s),Ht=E,el(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{et.p=h,q.T=o,Ny(e,n)}}function My(e,n,s){n=Vn(s,n),n=Af(e.stateNode,n,2),e=Ds(e,n,2),e!==null&&(hr(e,2),wi(e))}function $t(e,n,s){if(e.tag===3)My(e,e,s);else for(;n!==null;){if(n.tag===3){My(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ls===null||!Ls.has(o))){e=Vn(s,e),s=Vp(2),o=Ds(n,s,2),o!==null&&(xp(s,o,n,e),hr(o,2),wi(o));break}}n=n.return}}function Kf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=w1.bind(null,e,n,s),n.then(e,e))}function w1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Dt&s)===s&&(_e===4||_e===3&&(Dt&62914560)===Dt&&300>rn()-Ku?(Ht&2)===0&&Ma(e,0):jf|=s,Na===Dt&&(Na=0)),wi(e)}function Vy(e,n){n===0&&(n=Xl()),e=wr(e,n),e!==null&&(hr(e,n),wi(e))}function R1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Vy(e,s)}function C1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Vy(e,s)}function I1(e,n){return Ue(e,n)}var tc=null,xa=null,Yf=!1,ec=!1,Xf=!1,Ps=0;function wi(e){e!==xa&&e.next===null&&(xa===null?tc=xa=e:xa=xa.next=e),ec=!0,Yf||(Yf=!0,N1())}function el(e,n){if(!Xf&&ec){Xf=!0;do for(var s=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ky(o,f))}else f=Dt,f=oi(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(s=!0,ky(o,f));o=o.next}while(s);Xf=!1}}function D1(){xy()}function xy(){ec=Yf=!1;var e=0;Ps!==0&&j1()&&(e=Ps);for(var n=rn(),s=null,o=tc;o!==null;){var h=o.next,f=Ly(o,n);f===0?(o.next=null,s===null?tc=h:s.next=h,h===null&&(xa=s)):(s=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}ke!==0&&ke!==5||el(e),Ps!==0&&(Ps=0)}function Ly(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ee(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Sh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Dt,s=oi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&fs(o),Ui(s)){case 2:case 8:s=co;break;case 32:s=ds;break;case 268435456:s=Fl;break;default:s=ds}return o=Uy.bind(null,e),s=Ue(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&fs(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wu()&&e.callbackNode!==s)return null;var o=Dt;return o=oi(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),Ly(e,rn()),e.callbackNode!=null&&e.callbackNode===s?Uy.bind(null,e):null)}function ky(e,n){if(Wu())return null;yy(e,n,!0)}function N1(){q1(function(){(Ht&6)!==0?Ue(uo,D1):xy()})}function $f(){if(Ps===0){var e=va;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Ps=e}return Ps}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function O1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Py((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Py(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var R=g?zy(h,g):new FormData(h);pf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?zy(h,g):new FormData(h),pf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Jf=0;Jf<Mh.length;Jf++){var Zf=Mh[Jf],M1=Zf.toLowerCase(),V1=Zf[0].toUpperCase()+Zf.slice(1);Zn(M1,"on"+V1)}Zn(pg,"onAnimationEnd"),Zn(yg,"onAnimationIteration"),Zn(_g,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(XT,"onTransitionRun"),Zn($T,"onTransitionStart"),Zn(JT,"onTransitionCancel"),Zn(vg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){pu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){pu(H)}h.currentTarget=null,f=R}}}}function It(e,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var o=e+"__bubble";s.has(o)||(By(n,e,2,!1),s.add(o))}function Wf(e,n,s){var o=0;n&&(o|=4),By(s,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[nc]){e[nc]=!0,mo.forEach(function(s){s!=="selectionchange"&&(x1.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Wf("selectionchange",!1,n))}}function By(e,n,s,o){switch(p_(n)){case 2:var h=lA;break;case 8:h=uA;break;default:h=gd}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ed(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}vs(function(){var P=f,H=Dn(s),K=[];t:{var z=Eg.get(e);if(z!==void 0){var B=_i,at=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":B=du;break;case"focusin":at="focus",B=Tr;break;case"focusout":at="blur",B=Tr;break;case"beforeblur":case"afterblur":B=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case pg:case yg:case _g:B=au;break;case vg:B=T;break;case"scroll":case"scrollend":B=Ro;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=zi;break;case"toggle":case"beforetoggle":B=St}var gt=(n&4)!==0,ne=!gt&&(e==="scroll"||e==="scrollend"),V=gt?z!==null?z+"Capture":null:z;gt=[];for(var O=P,k;O!==null;){var G=O;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||V===null||(G=Yn(O,V),G!=null&&gt.push(il(O,G,k))),ne)break;O=O.return}0<gt.length&&(z=new B(z,at,null,s,H),K.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==So&&(at=s.relatedTarget||s.fromElement)&&(hi(at)||at[ui]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(at=s.relatedTarget||s.toElement,B=P,at=at?hi(at):null,at!==null&&(ne=c(at),gt=at.tag,at!==ne||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(B=null,at=P),B!==at)){if(gt=Co,G="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=zi,G="onPointerLeave",V="onPointerEnter",O="pointer"),ne=B==null?z:yn(B),k=at==null?z:yn(at),z=new gt(G,O+"leave",B,s,H),z.target=ne,z.relatedTarget=k,G=null,hi(H)===P&&(gt=new gt(V,O+"enter",at,s,H),gt.target=k,gt.relatedTarget=ne,G=gt),ne=G,B&&at)e:{for(gt=L1,V=B,O=at,k=0,G=V;G;G=gt(G))k++;G=0;for(var ct=O;ct;ct=gt(ct))G++;for(;0<k-G;)V=gt(V),k--;for(;0<G-k;)O=gt(O),G--;for(;k--;){if(V===O||O!==null&&V===O.alternate){gt=V;break e}V=gt(V),O=gt(O)}gt=null}else gt=null;B!==null&&qy(K,z,B,gt,!1),at!==null&&ne!==null&&qy(K,ne,at,gt,!0)}}t:{if(z=P?yn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var jt=rg;else if(ig(z))if(ag)jt=QT;else{jt=FT;var ot=HT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ia(P.elementType)&&(jt=rg):jt=GT;if(jt&&(jt=jt(e,P))){sg(K,jt,s,H);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(ot=P?yn(P):window,e){case"focusin":(ig(ot)||ot.contentEditable==="true")&&(ha=ot,Dh=P,Mo=null);break;case"focusout":Mo=Dh=ha=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,mg(K,s,H);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":mg(K,s,H)}var wt;if(qt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ca?Ar(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ti&&s.locale!=="ko"&&(ca||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ca&&(wt=wo()):(yi=H,bo="value"in yi?yi.value:yi.textContent,ca=!0)),ot=ic(P,Nt),0<ot.length&&(Nt=new Ei(Nt,e,null,s,H),K.push({event:Nt,listeners:ot}),wt?Nt.data=wt:(wt=ua(s),wt!==null&&(Nt.data=wt)))),(wt=On?zT(e,s):jT(e,s))&&(Nt=ic(P,"onBeforeInput"),0<Nt.length&&(ot=new Ei("onBeforeInput","beforeinput",null,s,H),K.push({event:ot,listeners:Nt}),ot.data=wt)),O1(K,e,P,s,H)}jy(K,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&o.unshift(il(e,h,f)),h=Yn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function L1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Yn(s,f),P!=null&&g.unshift(il(s,P,R))):h||(P=Yn(s,f),P!=null&&g.push(il(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var U1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(k1,"")}function Fy(e,n){return n=Hy(n),Hy(e)===n}function ee(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":_n(e,"class",o);break;case"tabIndex":_n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,s,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){_n(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=sa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=sa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iu.get(s)||s,ea(e,s,o))}}function nd(e,n,s,o,h,f){switch(s){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ea(e,s,o)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,f,g,s,null)}}h&&ee(e,n,"srcSet",s.srcSet,s,null),o&&ee(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:ee(e,n,o,H,s,null)}}tu(e,f,E,R,P,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ee(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?gs(e,!!o,n,!1):s!=null&&gs(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ee(e,n,g,E,s,null)}ps(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ee(e,n,R,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)It(nl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(e,n,P,o,s,null)}return;default:if(ia(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&nd(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ee(e,n,E,o,s,null))}function P1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,H=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(B)||ee(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=s[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":H=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&ee(e,n,z,B,o,K)}}na(e,g,E,R,P,H,f,h);return;case"select":B=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ee(e,n,h,f,o,R)}n=E,s=g,o=B,z!=null?gs(e,!!s,z,!1):!!o!=!!s&&(n!=null?gs(e,!!s,n,!0):gs(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ee(e,n,g,h,o,f)}eu(e,z,B);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ee(e,n,at,null,o,z));for(R in o)z=o[R],B=s[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ee(e,n,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)z=s[gt],s.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&ee(e,n,gt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ee(e,n,P,z,o,B)}return;default:if(ia(n)){for(var ne in s)z=s[ne],s.hasOwnProperty(ne)&&z!==void 0&&!o.hasOwnProperty(ne)&&nd(e,n,ne,void 0,o,z);for(H in o)z=o[H],B=s[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||nd(e,n,H,z,o,B);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&ee(e,n,V,null,o,z);for(K in o)z=o[K],B=s[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||ee(e,n,K,z,o,B)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Gy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var H=R.transferSize,K=R.initiatorType;H&&Gy(K)&&(R=R.responseEnd,g+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,sd=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(H1)}:Yy;function H1(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function $y(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")sl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,sl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&sl(e.ownerDocument.body);s=h}while(s);Pa(n)}function Jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function F1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function G1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,s){switch(n=sc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var zn=new Map,n_=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=et.d;et.d={f:K1,r:Y1,D:X1,C:$1,L:J1,m:Z1,X:tA,S:W1,M:eA};function K1(){var e=ts.f(),n=$u();return e||n}function Y1(e){var n=In(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):ts.r(e)}var La=typeof document>"u"?null:document;function i_(e,n,s){var o=La;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function X1(e){ts.D(e),i_("dns-prefetch",e,null)}function $1(e,n){ts.C(e,n),i_("preconnect",e,n)}function J1(e,n,s){ts.L(e,n,s);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=ka(e)}zn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function Z1(e,n){ts.m(e,n);var s=La;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!zn.has(f)&&(e=S({rel:"modulepreload",href:e},n),zn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),Xe(o,"link",e),Ce(o),s.head.appendChild(o)}}}function W1(e,n,s){ts.S(e,n,s);var o=La;if(o&&e){var h=fi(o).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(f))&&hd(e,s);var R=g=o.createElement("link");Ce(R),Xe(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function tA(e,n){ts.X(e,n);var s=La;if(s&&e){var o=fi(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=zn.get(h))&&fd(e,n),f=s.createElement("script"),Ce(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eA(e,n){ts.M(e,n);var s=La;if(s&&e){var o=fi(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&fd(e,n),f=s.createElement("script"),Ce(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function s_(e,n,s,o){var h=(h=At.current)?rc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=fi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=fi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||nA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=fi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+un(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function nA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",s),Ce(n),e.head.appendChild(n))}function ka(e){return'[src="'+un(e)+'"]'}function al(e){return"script[async]"+e}function a_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Xe(o,"style",h),ac(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ua(s.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=r_(s),(h=zn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,ac(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(al(f)))?(n.instance=h,Ce(h),h):(o=s,(h=zn.get(f))&&(o=S({},s),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,e));return n.instance}function ac(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function o_(e,n,s){if(oc===null){var o=new Map,h=oc=new Map;h.set(s,o)}else h=oc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ci]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function l_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function iA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ce(f);return}f=n.ownerDocument||n,o=r_(o),(h=zn.get(h))&&hd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Xe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var dd=0;function rA(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(aA,e),uc=null,lc.call(e))}function aA(e,n){if(!(n.state.loading&4)){var s=uc.get(e);if(s)var o=s.get(null);else{s=new Map,uc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function oA(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,s,o,h,f,g,E,R,P,H,K){return e=new oA(e,n,s,g,R,P,H,K,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Xh(f),e}function h_(e){return e?(e=ma,e):ma}function f_(e,n,s,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ds(e,o,n),s!==null&&(gn(s,e,n),zo(s,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function md(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&gn(n,e,67108864),md(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=wn();n=dr(n);var s=wr(e,n);s!==null&&gn(s,e,n),md(e,n)}}var hc=!0;function lA(e,n,s,o){var h=q.T;q.T=null;var f=et.p;try{et.p=2,gd(e,n,s,o)}finally{et.p=f,q.T=h}}function uA(e,n,s,o){var h=q.T;q.T=null;var f=et.p;try{et.p=8,gd(e,n,s,o)}finally{et.p=f,q.T=h}}function gd(e,n,s,o){if(hc){var h=pd(o);if(h===null)ed(e,n,o,fc,s),y_(e,o);else if(hA(h,e,n,s,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<cA.indexOf(e)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Ee(g);E.entanglements[1]|=R,g&=~R}wi(f),(Ht&6)===0&&(Yu=rn()+500,el(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&gn(E,f,2),$u(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,fc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,n,o,null,s)}}function pd(e){return e=Dn(e),yd(e)}var fc=null;function yd(e){if(fc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case uo:return 2;case co:return 8;case ds:case Ah:return 32;case Fl:return 268435456;default:return 32}default:return 32}}var _d=!1,js=null,Bs=null,qs=null,ll=new Map,ul=new Map,Hs=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hA(e,n,s,o,h){switch(n){case"focusin":return js=cl(js,e,n,s,o,h),!0;case"dragenter":return Bs=cl(Bs,e,n,s,o,h),!0;case"mouseover":return qs=cl(qs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,h)),!0}return!1}function __(e){var n=hi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){g_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){g_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=pd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);So=o,s.target.dispatchEvent(o),So=null}else return n=In(s),n!==null&&m_(n),e.blockedOn=s,!1;n.shift()}return!0}function v_(e,n,s){dc(e)&&s.delete(n)}function fA(){_d=!1,js!==null&&dc(js)&&(js=null),Bs!==null&&dc(Bs)&&(Bs=null),qs!==null&&dc(qs)&&(qs=null),ll.forEach(v_),ul.forEach(v_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fA)))}var gc=null;function E_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(yd(o||s)===null)continue;break}var f=In(s);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Pa(e){function n(R){return mc(R,e)}js!==null&&mc(js,e),Bs!==null&&mc(Bs,e),qs!==null&&mc(qs,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<Hs.length;s++){var o=Hs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)__(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[je]||null;if(typeof f=="function")g||E_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(yd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),E_(s)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}pc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=wn();f_(s,o,e,n,null,null)},pc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),$u(),n[ui]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&__(e)}};var A_=t.version;if(A_!=="19.2.3")throw Error(a(527,A_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var dA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Hn=yc.inject(dA),Fe=yc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Dp,f=Np,g=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=c_(e,1,!1,null,null,s,o,null,h,f,g,T_),e[ui]=n.current,td(e),new vd(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dp,g=Np,E=Op,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=c_(e,1,!0,n,s??null,o,h,R,f,g,E,T_),n.context=h_(null),s=n.current,o=wn(),o=dr(o),h=Is(o),h.callback=null,Ds(s,h,o),s=o,n.current.lanes=s,hr(n,s),wi(n),e[ui]=n.current,td(e),new pc(n)},fl.version="19.2.3",fl}var M_;function SA(){if(M_)return Ad.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=AA(),Ad.exports}var bA=SA();const wA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),V_=r=>{const t=RA(r);return t.charAt(0).toUpperCase()+t.slice(1)},u0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),CA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var IA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DA=Pt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Pt.createElement("svg",{ref:y,...IA,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:u0("lucide",l),...!c&&!CA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Pt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const cs=(r,t)=>{const i=Pt.forwardRef(({className:a,...l},c)=>Pt.createElement(DA,{ref:c,iconNode:t,className:u0(`lucide-${wA(V_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=V_(r),i};const NA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],x_=cs("book-open",NA);const OA=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],MA=cs("bookmark",OA);const VA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],c0=cs("loader-circle",VA);const xA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],LA=cs("menu",xA);const UA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kA=cs("moon",UA);const PA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zA=cs("search",PA);const jA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],h0=cs("sparkles",jA);const BA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qA=cs("sun",BA);const HA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qd=cs("x",HA);function L_({v:r,highlights:t,toggleHighlight:i,runTadabbur:a}){const l=t[r.key];return $.jsxs("div",{className:"relative p-8 mb-6 transition-all group",children:[$.jsx("div",{className:"flex justify-end mb-4",children:$.jsx("div",{className:"flex justify-end mb-4",children:$.jsxs("span",{className:"badge-verset text-[10px] font-bold tracking-widest uppercase px-3 py-1 rounded-md",children:["Verset ",r.numberInSurah]})})}),$.jsxs("div",{className:"absolute left-0 top-8 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[$.jsx("button",{onClick:()=>i(r),className:"p-2 text-slate-300 hover:text-emerald-600",children:$.jsx(MA,{size:18,fill:l?"currentColor":"none"})}),$.jsx("button",{onClick:()=>a(r),className:"p-2 text-slate-300 hover:text-emerald-600",children:$.jsx(h0,{size:18})})]}),$.jsx("div",{className:"text-right mb-8 font-arabic text-4xl text-slate-800 dir-rtl",children:r.text}),$.jsx("div",{className:"text-left text-slate-500 italic text-lg border-l-2 border-emerald-500/30 pl-6 leading-relaxed",children:r.textFr})]})}function FA({selectedVerse:r,currentSurah:t,analysis:i,analyzing:a,setSelectedVerse:l,FontSizeSelector:c,analysisFontSize:d,setAnalysisFontSize:p}){return $.jsxs("div",{className:"absolute top-0 right-0 w-full lg:w-[550px] h-full shadow-2xl z-40 flex flex-col analysis-panel animate-in slide-in-from-right duration-500 panel-container",children:[$.jsxs("div",{className:"p-6 flex items-center justify-between text-white panel-header",children:[$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsx("div",{className:"p-2 bg-white/10 rounded-xl",children:$.jsx(h0,{size:24})}),$.jsxs("div",{children:[$.jsx("h3",{className:"font-bold",children:"Analyse Tadabbur"}),$.jsxs("p",{className:"text-xs text-white/60",children:["Verset ",r.numberInSurah,"  ",t.englishName]})]})]}),$.jsx(c,{value:d,onChange:p,isDark:!0}),$.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:$.jsx(qd,{size:24})})]}),$.jsx("div",{className:"flex-1 overflow-y-auto p-8 scrollbar-thin panel-content",children:a?$.jsxs("div",{className:"space-y-8 animate-pulse",children:[$.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-800 rounded-full w-2/3"}),$.jsx("div",{className:"h-40 bg-emerald-50/50 dark:bg-emerald-900/10 rounded-3xl flex items-center justify-center",children:$.jsx(c0,{className:"animate-spin text-emerald-600",size:32})})]}):$.jsx("div",{className:"prose prose-slate max-w-none",children:$.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-sm panel-body-text",children:i&&typeof i=="string"?i.split(`
`).map((y,_)=>{if(y.match(/^\d\./)||y.startsWith("#")){const S=y.replace(/^#+\s*/,"").trim();return $.jsx("h4",{className:"font-extrabold text-lg mt-8 mb-4 pb-2 panel-title-text",children:S},_)}if(!y.trim())return $.jsx("div",{className:"h-2"},_);const A=y.split(/(\*\*.*?\*\*)/g);return $.jsx("p",{className:"mb-4 text-[15px]",children:A.map((S,x)=>S?.startsWith("**")&&S?.endsWith("**")?$.jsx("strong",{className:"font-bold panel-bold-text",children:S.slice(2,-2)},x):S)},_)}):$.jsx("p",{className:"italic opacity-50",children:"Prt pour l'analyse."})})})}),$.jsxs("div",{className:"p-4 flex items-center justify-between text-[10px] uppercase tracking-widest font-bold panel-footer",children:[$.jsx("span",{children:"Propuls par Tadabbur-IA"}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Connect"]})]})]})}const _c={"Signes / Versets":["",""],Verite:"",Revelation:["",""],"L'Inconnaissable":"","Ecriture / Livre":["","",""],Coran:["","",""],Religion:["",""],Anges:"","Diables / Satan":["",""],Jinn:"",Messager:["",""],Prophete:"","Pacte / Alliance / Serment":["","",""],Lumiere:["",""],"Direction / Guide":["",""],Foi:"",Priere:"",Aumone:"",Prosternation:"","Crainte pieuse / Peur":["","",""],"Rappel / Souvenir":["",""],Permission:"","Secret / Confidence":["",""],Sagesse:"","Autorite / Preuve":["",""],"Allah / Dieu":"",Seigneur:"","Dieu / Divinite":"","Le Tres Misericordieux":"","Le Tout Misericordieux":"","Le Sublime / L'Exalte":["","",""],"L'Omniscient":["",""],"Le Sage":"","Le Pardonneur":["","",""],"Le Puissant":"","Le Capable / Competent":["",""],"Le Temoin":["",""],"Le Protecteur / Allie":["","","",""],"Le Createur":["","",""],"Le Louable":"","Le Clement":"","Le Saint":"","L'Audient":"","Le Clairvoyant":"","Le Connaisseur / L'Informe":[""],"Jour (du Jugement)":"",Resurrection:["","",""],"L'Heure":"","Compte / Calcul":[""],"Chatiment / Peine":["","","",""],"Recompense / Salaire":["","",""],"Paradis / Jardins":["",""],"Enfer / Feu":["","","","","",""],"Succes / Triomphe":["",""],"Perte / Perdition":["",""],"Retour / Destination":["","","",""],Balance:"",Eternite:"",Douloureux:"","Vaste / Etendu":"","Cieux / Ciel":["",""],Terre:["",""],Soleil:"",Lune:"",Etoiles:["",""],Nuit:"","Temps / Heure":["","","",""],Eau:"",Mer:["",""],Pluie:["","",""],Montagnes:["",""],Arbre:["",""],Fruits:["",""],"Animaux / Bestiaux":["","",""],Oiseaux:"",Vent:"",Nuages:["",""],"Argile / Poussiere":["","",""],Obscurite:["",""],"Source / Oeil":"",Riviere:"","Gens / Humains / Peuple":["","","","",""],Homme:"","Femme / Epouse":["","",""],Pere:["",""],Mere:["",""],"Enfants / Fils / Descendance":["","","",""],Frere:"","Ame / Personne":["",""],"Coeur / Poitrine":["","",""],Visage:"",Main:"",Langue:"",Vie:"",Mort:["",""],"Maison / Demeure":["","",""],"Cite / Ville / Pays":["","",""],"Richesse / Bien":["","",""],"Nourriture / Provision":["",""],Vetement:["as",""],Ennemi:"",Compagnon:["",""],Orphelin:"","Pauvre / Misereux":["",""],Creation:"",Adoration:"",Obeissance:"","Appel / Invocation":"","Soumission (Islam)":"",Mecreance:"","Association / Polytheisme":"",Hypocrisie:"","Combat / Effort":["",""],Repentir:"",Egarement:"","Action / Oeuvre":[""],"Parole / Dire":["","",""],"Science / Savoir":"","Lecture / Recitation":["",""],Injustice:["",""],"Peche / Faute":["","",""],"Depense / Charite":"",Patience:"",Mensonge:"",Trahison:"",Moquerie:"",Arrogance:["",""],"Grace / Faveur / Bienfait":["","",""],"Epreuve / Tentation":["",""],Adam:"","Noe / Nuh":"","Abraham / Ibrahim":"",Loth:"","Ismael / Ismail":"","Isaac / Ishaq":"","Jacob / Yaqub":"","Joseph / Youssouf":"","Moise / Moussa":"","Aaron / Aroun":"","David / Daoud":"","Salomon / Souleymane":"","Jesus / Issa":"","Marie / Myriam":"","Mohammed / Muhammad":"",Pharaon:"","Aad / Thamud":["",""],Israel:"","Anciens / Anctres":"","Pur / Saint":["",""],"Vrai / Sincere":[""],"Mauvais / Vicie":["",""],"Excellent / Bon":["",""],"Grand / Petit":["",""],"Droit / Droit chemin":["",""],"Faux / Vanite":[""],"Lourd / Leger":["",""],"Beaucoup / Peu":["",""],"Proche / Lointain":["",""],"Premier / Dernier":["",""],vrit:"",faux:"",bien:["","",""],mal:["","",""],justice:["",""],misricorde:"",pardon:["","",""],chtiment:["",""],paradis:"",enfer:["","",""],succs:"",perte:"",patience:"",sagesse:"",connaissance:"",guidance:"",misricordieux:"","tout-misricordieux":"",puissant:"",sage:"",savant:"",grand:["",""],immense:"",pardonneur:["",""],voyant:"",audient:"",tmoin:"",cration:"",rvlation:["",""],ordre:"",appel:"",louange:"",tmoignage:"",soumission:"",adoration:"",pacte:"",chemin:["",""]},GA=()=>{};var U_={};const f0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},QA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},d0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(x=64)),a.push(i[A],i[S],i[x],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(f0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):QA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new KA;const x=c<<2|p>>4;if(a.push(x),_!==64){const F=p<<4&240|_>>2;if(a.push(F),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YA=function(r){const t=f0(r);return d0.encodeByteArray(t,!0)},kc=function(r){return YA(r).replace(/\./g,"")},m0=function(r){try{return d0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $A=()=>XA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&m0(r[1]);return t&&JSON.parse(t)},ih=()=>{try{return GA()||$A()||JA()||ZA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},g0=r=>ih()?.emulatorHosts?.[r],WA=r=>{const t=g0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},p0=()=>ih()?.config,y0=r=>ih()?.[`_${r}`];class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _0(r){return(await fetch(r,{credentials:"include"})).ok}function eS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kc(JSON.stringify(i)),kc(JSON.stringify(d)),""].join(".")}const yl={};function nS(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function iS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let k_=!1;function v0(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||yl[r]===t||yl[r]||k_)return;yl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=nS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,F){x.setAttribute("width","24"),x.setAttribute("id",F),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{k_=!0,d()},x}function A(x,F){x.setAttribute("id",F),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=iS(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ht=i("preprendIcon"),_t=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const dt=x.element;p(dt),A(J,nt);const Ft=_();y(_t,ht),dt.append(_t,W,J,Ft),document.body.appendChild(dt)}c?(W.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function rS(){const r=ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const dS="FirebaseError";class hs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=dS,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hs(l,p,a)}}function mS(r,t){return r.replace(gS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const gS=/\{\$([^}]+)}/g;function pS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(P_(c)&&P_(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function P_(r){return r!==null&&typeof r=="object"}function Ml(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yS(r,t){const i=new _S(r,t);return i.subscribe.bind(i)}class _S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Rd(){}function Rn(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class ES{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new tS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(r){return r===Pr?void 0:r}function AS(r){return r.instantiationMode==="EAGER"}class SS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ES(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const bS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},wS=Ot.INFO,RS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},CS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=RS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const IS=(r,t)=>t.some(i=>r instanceof i);let z_,j_;function DS(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Hd=new WeakMap,T0=new WeakMap,Cd=new WeakMap,ym=new WeakMap;function OS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&E0.set(i,r)}).catch(()=>{}),ym.set(t,r),t}function MS(r){if(Hd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let Fd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||T0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function VS(r){Fd=r(Fd)}function xS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Id(this),t,...i);return T0.set(a,t.sort?t.sort():[t]),Js(a)}:NS().includes(r)?function(...t){return r.apply(Id(this),t),Js(E0.get(this))}:function(...t){return Js(r.apply(Id(this),t))}}function LS(r){return typeof r=="function"?xS(r):(r instanceof IDBTransaction&&MS(r),IS(r,DS())?new Proxy(r,Fd):r)}function Js(r){if(r instanceof IDBRequest)return OS(r);if(Cd.has(r))return Cd.get(r);const t=LS(r);return t!==r&&(Cd.set(r,t),ym.set(t,r)),t}const Id=r=>ym.get(r);function US(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Js(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Js(d.result),y.oldVersion,y.newVersion,Js(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const kS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],Dd=new Map;function B_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=PS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Dd.set(t,c),c}VS(r=>({...r,get:(t,i,a)=>B_(t,i)||r.get(t,i,a),has:(t,i)=>!!B_(t,i)||r.has(t,i)}));class zS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(r){return r.getComponent()?.type==="VERSION"}const Gd="@firebase/app",q_="0.14.6";const ss=new pm("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",FS="@firebase/app-check-compat",GS="@firebase/app-check",QS="@firebase/auth",KS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",WS="@firebase/installations",tb="@firebase/installations-compat",eb="@firebase/messaging",nb="@firebase/messaging-compat",ib="@firebase/performance",sb="@firebase/performance-compat",rb="@firebase/remote-config",ab="@firebase/remote-config-compat",ob="@firebase/storage",lb="@firebase/storage-compat",ub="@firebase/firestore",cb="@firebase/ai",hb="@firebase/firestore-compat",fb="firebase",db="12.6.0";const Qd="[DEFAULT]",mb={[Gd]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[GS]:"fire-app-check",[FS]:"fire-app-check-compat",[QS]:"fire-auth",[KS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[WS]:"fire-iid",[tb]:"fire-iid-compat",[eb]:"fire-fcm",[nb]:"fire-fcm-compat",[ib]:"fire-perf",[sb]:"fire-perf-compat",[rb]:"fire-rc",[ab]:"fire-rc-compat",[ob]:"fire-gcs",[lb]:"fire-gcs-compat",[ub]:"fire-fst",[hb]:"fire-fst-compat",[cb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};const Pc=new Map,gb=new Map,Kd=new Map;function H_(r,t){try{r.container.addComponent(t)}catch(i){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Kd.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,r);for(const i of Pc.values())H_(i,r);for(const i of gb.values())H_(i,r);return!0}function _m(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}const pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Ol("app","Firebase",pb);class yb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const io=db;function A0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=p0()),!i)throw Zs.create("no-options");const c=Pc.get(l);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new SS(l);for(const y of Kd.values())d.addComponent(y);const p=new yb(i,a,d);return Pc.set(l,p),p}function S0(r=Qd){const t=Pc.get(r);if(!t&&r===Qd&&p0())return A0();if(!t)throw Zs.create("no-app",{appName:r});return t}function Ws(r,t,i){let a=mb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const _b="firebase-heartbeat-database",vb=1,Sl="firebase-heartbeat-store";let Nd=null;function b0(){return Nd||(Nd=US(_b,vb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function Eb(r){try{const i=(await b0()).transaction(Sl),a=await i.objectStore(Sl).get(w0(r));return await i.done,a}catch(t){if(t instanceof hs)ss.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});ss.warn(i.message)}}}async function F_(r,t){try{const a=(await b0()).transaction(Sl,"readwrite");await a.objectStore(Sl).put(t,w0(r)),await a.done}catch(i){if(i instanceof hs)ss.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});ss.warn(a.message)}}}function w0(r){return`${r.name}!${r.options.appId}`}const Tb=1024,Ab=30;class Sb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Ab){const l=Rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:a}=bb(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ss.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function bb(r,t=Tb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Eb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Q_(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}function Rb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Cb(r){Xa(new qr("platform-logger",t=>new zS(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new Sb(t),"PRIVATE")),Ws(Gd,q_,r),Ws(Gd,q_,"esm2020"),Ws("fire-js","")}Cb("");var Ib="firebase",Db="12.7.0";Ws(Ib,Db,"app");const K_={1:"L'Ouverture",2:"La Vache",3:"La Famille d'Imran",4:"Les Femmes",5:"La Table Servie",6:"Les Bestiaux",7:"Al-Araf",8:"Le Butin",9:"Le Repentir",10:"Jonas",11:"Houd",12:"Joseph",13:"Le Tonnerre",14:"Abraham",15:"Al-Hijr",16:"Les Abeilles",17:"Le Voyage Nocturne",18:"La Caverne",19:"Marie",20:"Ta-Ha",21:"Les Prophtes",22:"Le Plerinage",23:"Les Croyants",24:"La Lumire",25:"Le Discernement",26:"Les Potes",27:"Les Fourmis",28:"Le Rcit",29:"L'Araigne",30:"Les Romains",31:"Lokman",32:"La Prosternation",33:"Les Coaliss",34:"Saba",35:"Le Crateur",36:"Ya-Sin",37:"Les Rangs",38:"Sad",39:"Les Groupes",40:"Le Pardonneur",41:"Les Versets Dtaills",42:"La Consultation",43:"L'Ornement",44:"La Fume",45:"L'Agnouille",46:"Al-Ahqaf",47:"Muhammad",48:"La Victoire clatante",49:"Les Appartements",50:"Qaf",51:"Qui parpillent",52:"At-Tur",53:"L'toile",54:"La Lune",55:"Le Tout Misricordieux",56:"L'vnement",57:"Le Fer",58:"La Discussion",59:"L'Exode",60:"L'prouve",61:"Le Rang",62:"Le Vendredi",63:"Les Hypocrites",64:"La Grande Perte",65:"Le Divorce",66:"L'Interdiction",67:"La Royaut",68:"La Plume",69:"Celle qui montre la vrit",70:"Les Voies d'Ascension",71:"No",72:"Les Djinns",73:"L'Envelopp",74:"Le Revtu d'un manteau",75:"La Rsurrection",76:"L'Homme",77:"Les Envoys",78:"La Nouvelle",79:"Les Anges qui arrachent les mes",80:"Il s'est renfrogn",81:"L'Obscurcissement",82:"La Rupture",83:"Les Fraudeurs",84:"La Dchirure",85:"Les Constellations",86:"L'Astre Nocturne",87:"Le Trs-Haut",88:"L'Enveloppante",89:"L'Aube",90:"La Cit",91:"Le Soleil",92:"La Nuit",93:"Le Jour Montant",94:"L'Ouverture du Cur",95:"Le Figuier",96:"L'Adhrence",97:"La Destine",98:"La Preuve clatante",99:"Le Tremblement de Terre",100:"Les Coursiers Rapides",101:"Le Fracas",102:"La Course aux richesses",103:"Le Temps",104:"Les Calomniateurs",105:"L'lphant",106:"Corash",107:"L'Ustensile",108:"L'Abondance",109:"Les Infidles",110:"Le Secours",111:"Les Fibres",112:"Le Monothisme Pur",113:"L'Aube Naissante",114:"Les Hommes"};function R0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nb=R0,C0=new Ol("auth","Firebase",R0());const zc=new pm("@firebase/auth");function Ob(r,...t){zc.logLevel<=Ot.WARN&&zc.warn(`Auth (${io}): ${r}`,...t)}function Cc(r,...t){zc.logLevel<=Ot.ERROR&&zc.error(`Auth (${io}): ${r}`,...t)}function rs(r,...t){throw vm(r,...t)}function Ci(r,...t){return vm(r,...t)}function I0(r,t,i){const a={...Nb(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:r.name})}function is(r){return I0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return C0.create(r,...t)}function yt(r,t,...i){if(!r)throw vm(t,...i)}function es(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function as(r,t){r||es(t)}function Yd(){return typeof self<"u"&&self.location?.href||""}function Mb(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function Vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mb()||oS()||"connection"in navigator)?navigator.onLine:!0}function xb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vl{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||lS()}get(){return Vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Em(r,t){as(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class D0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ub=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kb=new Vl(3e4,6e4);function xl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return N0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ml({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return aS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(_.credentials="include"),D0.fetch()(await O0(r,r.config.apiHost,i,p),_)})}async function N0(r,t,i){r._canInitEmulator=!1;const a={...Lb,...t};try{const l=new Pb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw vc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw I0(r,A,_);rs(r,A)}}catch(l){if(l instanceof hs)throw l;rs(r,"network-request-failed",{message:String(l)})}}async function Tm(r,t,i,a,l={}){const c=await so(r,t,i,a,l);return"mfaPendingCredential"in c&&rs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function O0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Em(r.config,l):`${r.config.apiScheme}://${l}`;return Ub.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Pb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),kb.get())})}}function vc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ci(r,t,a);return l.customData._tokenResponse=i,l}async function zb(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function jc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jb(r,t=!1){const i=Rn(r),a=await i.getIdToken(t),l=Am(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:_l(Od(l.auth_time)),issuedAtTime:_l(Od(l.iat)),expirationTime:_l(Od(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Od(r){return Number(r)*1e3}function Am(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=m0(i);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function X_(r){const t=Am(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof hs&&Bb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Bb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class qb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(r){const t=r.auth,i=await r.getIdToken(),a=await bl(r,jc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?M0(l.providerUserInfo):[],d=Fb(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function Hb(r){const t=Rn(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Fb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function M0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Gb(r,t){const i=await N0(r,{},async()=>{const a=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await O0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Qb(r,t){return so(r,"POST","/v2/accounts:revokeToken",xl(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):X_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=X_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Gb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return es("not implemented")}}function Gs(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await bl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return jb(this,t)}reload(){return Hb(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(is(this.auth));const t=await this.getIdToken();return await bl(this,zb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:F,providerData:W,stsTokenManager:nt}=i;yt(S&&nt,t,"internal-error");const J=Fa.fromJSON(this.name,nt);yt(typeof S=="string",t,"internal-error"),Gs(a,t.name),Gs(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(y,t.name),Gs(_,t.name),Gs(A,t.name);const ht=new ei({uid:S,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(ht.providerData=W.map(_t=>({..._t}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?M0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const y=new ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const $_=new Map;function ns(r){as(r instanceof Function,"Expected a class definition");let t=$_.get(r);return t?(as(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,$_.set(r,t),t)}class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}V0.type="NONE";const J_=V0;function Ic(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ic("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await jc(this.auth,{idToken:t}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(ns(J_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ns(J_);const d=Ic(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const x=await jc(t,{idToken:A}).catch(()=>{});if(!x)break;S=await ei._fromGetAccountInfoResponse(t,x,A)}else S=ei._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ga(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ga(c,t,a))}}function Z_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z0(t))return"Blackberry";if(j0(t))return"Webos";if(L0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(P0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function x0(r=sn()){return/firefox\//i.test(r)}function L0(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=sn()){return/crios\//i.test(r)}function k0(r=sn()){return/iemobile/i.test(r)}function P0(r=sn()){return/android/i.test(r)}function z0(r=sn()){return/blackberry/i.test(r)}function j0(r=sn()){return/webos/i.test(r)}function Sm(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Kb(r=sn()){return Sm(r)&&!!window.navigator?.standalone}function Yb(){return uS()&&document.documentMode===10}function B0(r=sn()){return Sm(r)||P0(r)||j0(r)||z0(r)||/windows phone/i.test(r)||k0(r)}function q0(r,t=[]){let i;switch(r){case"Browser":i=Z_(sn());break;case"Worker":i=`${Z_(sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class Xb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $b(r,t={}){return so(r,"GET","/v2/passwordPolicy",xl(r,t))}const Jb=6;class Zb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Jb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Wb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new Xb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await jc(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(is(this));const i=t?Rn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $b(this),i=new Zb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Qb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ns(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ob(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ll(r){return Rn(r)}class W_{constructor(t){this.auth=t,this.observer=null,this.addObserver=yS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(r){bm=r}function ew(r){return bm.loadJS(r)}function nw(){return bm.gapiScript}function iw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function sw(r,t){const i=_m(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Br(c,t??{}))return l;rs(l,"already-initialized")}return i.initialize({options:t})}function rw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ns);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function aw(r,t,i){const a=Ll(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=H0(t),{host:d,port:p}=ow(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Br(_,a.config.emulator)&&Br(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,no(d)?(_0(`${c}//${d}${y}`),v0("Auth",!0)):lw()}function H0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ow(r){const t=H0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:tv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:tv(d)}}}function tv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function lw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,i){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function Qa(r,t){return Tm(r,"POST","/v1/accounts:signInWithIdp",xl(r,t))}const uw="http://localhost";class Hr extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Hr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}class G0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends Ul{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ks extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Ys extends Ul{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Xs extends Ul{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function cw(r,t){return Tm(r,"POST","/v1/accounts:signUp",xl(r,t))}class os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ei._fromIdTokenResponse(t,a,l),d=ev(a);return new os({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=ev(a);return new os({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function hw(r){if(jn(r.app))return Promise.reject(is(r));const t=Ll(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new os({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await cw(t,{returnSecureToken:!0}),a=await os._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class qc extends hs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new qc(t,i,a,l)}}function Q0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,c,t,a):c})}async function fw(r,t,i=!1){const a=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return os._forOperation(r,"link",a)}async function dw(r,t,i=!1){const{auth:a}=r;if(jn(a.app))return Promise.reject(is(a));const l="reauthenticate";try{const c=await bl(r,Q0(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=Am(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),os._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(a,"user-mismatch"),c}}async function mw(r,t,i=!1){if(jn(r.app))return Promise.reject(is(r));const a="signIn",l=await Q0(r,a,t),c=await os._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function gw(r,t){return Tm(r,"POST","/v1/accounts:signInWithCustomToken",xl(r,t))}async function pw(r,t){if(jn(r.app))return Promise.reject(is(r));const i=Ll(r),a=await gw(i,{token:t,returnSecureToken:!0}),l=await os._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yw(r,t,i,a){return Rn(r).onIdTokenChanged(t,i,a)}function _w(r,t,i){return Rn(r).beforeAuthStateChanged(t,i)}function vw(r,t,i,a){return Rn(r).onAuthStateChanged(t,i,a)}const Hc="__sak";class K0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ew=1e3,Tw=10;class Y0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Yb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Tw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Y0.type="LOCAL";const Aw=Y0;class X0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}X0.type="SESSION";const $0=X0;function Sw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Sw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];function wm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class bw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=wm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function ww(r){Ii().location.href=r}function J0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){return navigator?.serviceWorker?.controller||null}function Iw(){return J0()?self:null}const Z0="firebaseLocalStorageDb",Dw=1,Fc="firebaseLocalStorage",W0="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function Nw(){const r=indexedDB.deleteDatabase(Z0);return new kl(r).toPromise()}function $d(){const r=indexedDB.open(Z0,Dw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:W0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await Nw(),t(await $d()))})})}async function nv(r,t,i){const a=rh(r,!0).put({[W0]:t,value:i});return new kl(a).toPromise()}async function Ow(r,t){const i=rh(r,!1).get(t),a=await new kl(i).toPromise();return a===void 0?null:a.value}function iv(r,t){const i=rh(r,!0).delete(t);return new kl(i).toPromise()}const Mw=800,Vw=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new bw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await nv(t,Hc,"1"),await iv(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>nv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Ow(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const xw=tE;new Vl(3e4,6e4);function Lw(r,t){return t?ns(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Rm extends F0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Uw(r){return mw(r.auth,new Rm(r),r.bypassAuthState)}function kw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),dw(i,new Rm(r),r.bypassAuthState)}async function Pw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),fw(i,new Rm(r),r.bypassAuthState)}class eE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return Pw;case"reauthViaPopup":case"reauthViaRedirect":return kw;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new Vl(2e3,1e4);class Ha extends eE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zw.get())};t()}}Ha.currentPopupAction=null;const jw="pendingRedirect",Dc=new Map;class Bw extends eE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(r,t){const i=Gw(t),a=Fw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Hw(r,t){Dc.set(r._key(),t)}function Fw(r){return ns(r._redirectPersistence)}function Gw(r){return Ic(jw,r.config.apiKey,r.name)}async function Qw(r,t,i=!1){if(jn(r.app))return Promise.reject(is(r));const a=Ll(r),l=Lw(a,t),d=await new Bw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Kw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!nE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(t))}saveEventToCache(t){this.cachedEventUids.add(sv(t)),this.lastProcessedEventTime=Date.now()}}function sv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function nE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Xw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(r);default:return!1}}async function $w(r,t={}){return so(r,"GET","/v1/projects",t)}const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function Ww(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $w(r);for(const i of t)try{if(tR(i))return}catch{}rs(r,"unauthorized-domain")}function tR(r){const t=Yd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if(Jw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const eR=new Vl(3e4,6e4);function rv(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function nR(r){return new Promise((t,i)=>{function a(){rv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rv(),i(Ci(r,"network-request-failed"))},timeout:eR.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=iw("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ci(r,"network-request-failed"))},ew(`${nw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function iR(r){return Nc=Nc||nR(r),Nc}const sR=new Vl(5e3,15e3),rR="__/auth/iframe",aR="emulator/auth/iframe",oR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uR(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Em(t,aR):`https://${r.config.authDomain}/${rR}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=lR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ml(a).slice(1)}`}async function cR(r){const t=await iR(r),i=Ii().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:uR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},sR.get());function y(){Ii().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fR=500,dR=600,mR="_blank",gR="http://localhost";class av{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(r,t,i,a=fR,l=dR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...hR,width:a.toString(),height:l.toString(),top:c,left:d},_=sn().toLowerCase();i&&(p=U0(_)?mR:i),x0(_)&&(t=t||gR,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[F,W])=>`${x}${F}=${W},`,"");if(Kb(_)&&p!=="_self")return yR(t||"",p),new av(null);const S=window.open(t||"",p,A);yt(S,r,"popup-blocked");try{S.focus()}catch{}return new av(S)}function yR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _R="__/auth/handler",vR="emulator/auth/handler",ER=encodeURIComponent("fac");async function ov(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof G0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",pS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Ul){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${ER}=${encodeURIComponent(y)}`:"";return`${TR(r)}?${Ml(p).slice(1)}${_}`}function TR({config:r}){return r.emulator?Em(r,vR):`https://${r.authDomain}/${_R}`}const Md="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=Qw,this._overrideRedirectResult=Hw}async _openPopup(t,i,a,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ov(t,i,a,Yd(),l);return pR(t,c,wm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await ov(t,i,a,Yd(),l);return ww(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await cR(t),a=new Yw(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Md,{type:Md},l=>{const c=l?.[0]?.[Md];c!==void 0&&i(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return B0()||L0()||Sm()}}const SR=AR;var lv="@firebase/auth",uv="1.12.0";class bR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RR(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(r)},_=new Wb(a,l,c,y);return rw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=Ll(t.getProvider("auth").getImmediate());return(a=>new bR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(lv,uv,wR(r)),Ws(lv,uv,"esm2020")}const CR=300,IR=y0("authIdTokenMaxAge")||CR;let cv=null;const DR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>IR)return;const l=i?.token;cv!==l&&(cv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NR(r=S0()){const t=_m(r,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(r,{popupRedirectResolver:SR,persistence:[xw,Aw,$0]}),a=y0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=DR(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,p=>d(p))}}const l=g0("auth");return l&&aw(i,`http://${l}`),i}function OR(){return document.getElementsByTagName("head")?.[0]??document}tw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ci("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",OR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RR("Browser");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,iE;(function(){var r;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,D,L){for(var w=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)w[Jt-2]=arguments[Jt];return b.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)M[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let L=I.g[3],w;w=b+(L^C&(D^L))+M[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+M[2]+606105819&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+M[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+M[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+M[6]+2821735955&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+M[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+M[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+M[10]+4294925233&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+M[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+M[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+M[14]+2792965006&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+M[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^L&(C^D))+M[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+M[11]+643717713&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+M[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+M[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+M[15]+3634488961&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+M[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+M[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+M[3]+4107603335&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+M[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+M[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+M[7]+1735328473&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+M[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^L)+M[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+M[11]+1839030562&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+M[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+M[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+M[7]+4139469664&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+M[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+M[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+M[3]+3572445317&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+M[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+M[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+M[15]+530742520&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+M[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~L))+M[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+M[14]+2878612391&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+M[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+M[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+M[10]+4293915773&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+M[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+M[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+M[6]+2734768916&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+M[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+M[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+M[2]+718787259&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<b;){if(D==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(M[D++]=I.charCodeAt(L++),D==this.blockSize){l(this,M),D=0;break}}else for(;L<b;)if(M[D++]=I[L++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[b++]=this.g[C]>>>M&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let M=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;M&&L==b||(C[D]=L,M=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(_(-I));const b=[];let C=1;for(let M=0;I>=C;M++)b[M]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return J(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let M=S;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+D),b);D<8?(D=_(Math.pow(b,D)),M=M.j(D).add(_(w))):(M=M.j(C),M=M.add(_(w)))}return M}var S=y(0),x=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(nt(this))return"-"+J(this).toString(I);const b=_(Math.pow(I,6));var C=this;let M="";for(;;){const D=Ft(C,b).g;C=ht(C,D.j(b));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,W(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=ht(this,I),nt(I)?-1:W(I)?0:1};function J(I){const b=I.g.length,C=[];for(let M=0;M<b;M++)C[M]=~I.g[M];return new d(C,~I.h).add(x)}r.abs=function(){return nt(this)?J(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let D=0;D<=b;D++){let L=M+(this.i(D)&65535)+(I.i(D)&65535),w=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=w>>>16,L&=65535,w&=65535,C[D]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(I,b){return I.add(J(b))}r.j=function(I){if(W(this)||W(I))return S;if(nt(this))return nt(I)?J(this).j(J(I)):J(J(this).j(I));if(nt(I))return J(this.j(J(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const L=this.i(M)>>>16,w=this.i(M)&65535,Jt=I.i(D)>>>16,ve=I.i(D)&65535;C[2*M+2*D]+=w*ve,_t(C,2*M+2*D),C[2*M+2*D+1]+=L*ve,_t(C,2*M+2*D+1),C[2*M+2*D+1]+=w*Jt,_t(C,2*M+2*D+1),C[2*M+2*D+2]+=L*Jt,_t(C,2*M+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function _t(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function dt(I,b){this.g=I,this.h=b}function Ft(I,b){if(W(b))throw Error("division by zero");if(W(I))return new dt(S,S);if(nt(I))return b=Ft(J(I),b),new dt(J(b.g),J(b.h));if(nt(b))return b=Ft(I,J(b)),new dt(J(b.g),b.h);if(I.g.length>30){if(nt(I)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=x,M=b;M.l(I)<=0;)C=Gt(C),M=Gt(M);var D=xt(C,1),L=xt(M,1);for(M=xt(M,2),C=xt(C,2);!W(M);){var w=L.add(M);w.l(I)<=0&&(D=D.add(C),L=w),M=xt(M,1),C=xt(C,1)}return b=ht(I,D.j(b)),new dt(D,b)}for(D=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(C),w=L.j(b);nt(w)||w.l(I)>0;)C-=M,L=_(C),w=L.j(b);W(L)&&(L=x),D=D.add(L),I=ht(I,w)}return new dt(D,I)}r.B=function(I){return Ft(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function Gt(I){const b=I.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function xt(I,b){const C=b>>5;b%=32;const M=I.g.length-C,D=[];for(let L=0;L<M;L++)D[L]=b>0?I.i(L+C)>>>b|I.i(L+C+1)<<32-b:I.i(L+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,iE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,tr=d}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,dl,rE,Oc,Jd,aE,oE,lE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var Z=Array(arguments.length-2),St=2;St<arguments.length;St++)Z[St-2]=arguments[St];return m.prototype[U].apply(T,Z)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const j=U.length||0;u.length=v+j;for(let Z=0;Z<j;Z++)u[v+Z]=U[Z]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Gt,xt=!1,I=new _t,b=()=>{const u=Promise.resolve(void 0);Gt=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Jt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Jt,D),Jt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Jt.Z.h.call(this)},Jt.prototype.h=function(){Jt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function zt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let j=0;j<Q.length;j++)v=Q[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const Z=At(u,m,T,U);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new et(m,this.src,j,!!T,U),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return U}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),ge={};function ie(u,m,v,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ie(u,m[j],v,T,U);return null}return v=Jr(v),u&&u[ve]?u.J(m,v,p(T)?!!T.capture:!1,U):st(u,m,v,!1,T,U)}function st(u,m,v,T,U,j){if(!m)throw Error("Invalid event type");const Z=p(U)?!!U.capture:!!U;let St=ln(u);if(St||(u[Rt]=St=new it(u)),v=St.add(m,v,T,Z,j),v.proxy)return v;if(T=se(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ae(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function se(){function u(v){return m.call(u.src,u.listener,v)}const m=pe;return u}function Zt(u,m,v,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Zt(u,m[j],v,T,U);else T=p(T)?!!T.capture:!!T,v=Jr(v),u&&u[ve]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=At(m,v,T,U),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=ln(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,U)),(v=u>-1?m[u]:null)&&Kt(v))}function Kt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])mt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ae(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ln(m))?(mt(v,u),v.h==0&&(v.src=null,m[Rt]=null)):ut(u)}}}function ae(u){return u in ge?ge[u]:ge[u]="on"+u}function pe(u,m){if(u.da)u=!0;else{m=new Jt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Kt(u),u=v.call(T,m)}return u}function ln(u){return u=u[Rt],u instanceof it?u:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jr(u){return typeof u=="function"?u:(u[si]||(u[si]=function(m){return u.handleEvent(m)}),u[si])}function he(){M.call(this),this.i=new it(this),this.M=this,this.G=null}S(he,M),he.prototype[ve]=!0,he.prototype.removeEventListener=function(u,m,v,T){Zt(this,u,m,v,T)};function Ue(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),tt(m,U)}U=!0;let j,Z;if(v)for(Z=v.length-1;Z>=0;Z--)j=m.g=v[Z],U=fs(j,T,!0,m)&&U;if(j=m.g=u,U=fs(j,T,!0,m)&&U,U=fs(j,T,!1,m)&&U,v)for(Z=0;Z<v.length;Z++)j=m.g=v[Z],U=fs(j,T,!1,m)&&U}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},he.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const Z=m[j];if(Z&&!Z.da&&Z.capture==v){const St=Z.listener,Te=Z.ha||Z.src;Z.fa&&mt(u.i,Z),U=St.call(Te,T)!==!1&&U}}return U&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}S(ur,M);var uo=[];function co(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Kt(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),co(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Ah=d.JSON.parse,Fl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gl(){}function Ql(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){D.call(this,"d")}S(Fe,D);function Cn(){D.call(this,"c")}S(Cn,D);var Ee={},Kl=null;function Zr(){return Kl=Kl||new he}Ee.Ia="serverreachability";function Yl(u){D.call(this,Ee.Ia,u)}S(Yl,D);function ri(u){const m=Zr();Ue(m,new Yl(m))}Ee.STAT_EVENT="statevent";function cr(u,m){D.call(this,Ee.STAT_EVENT,u),this.stat=m}S(cr,D);function we(u){const m=Zr();Ue(m,new cr(m,u))}Ee.Ja="timingevent";function ai(u,m){D.call(this,Ee.Ja,u),this.size=m}S(ai,D);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Sh(u,m,v,T,U,j){u.info(function(){if(u.g)if(j){var Z="",St=j.split("&");for(let qt=0;qt<St.length;qt++){var Te=St[qt].split("=");if(Te.length>1){const fe=Te[0];Te=Te[1];const On=fe.split("_");Z=On.length>=2&&On[1]=="type"?Z+(fe+"="+Te+"&"):Z+(fe+"=redacted&")}}}else Z=null;else Z=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+Z})}function Xl(u,m,v,T,U,j,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+Z})}function li(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return ds(j)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function dr(){}S(dr,Gl),dr.prototype.g=function(){return new XMLHttpRequest},fo=new dr;function Ui(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Gn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Re={},je={};function ui(u,m,v){u.M=1,u.A=mr(Ie(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),ci(u),u.B=Ie(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Qn,u.g=hu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(uo[0]=U.toString()),U=uo);for(let j=0;j<U.length;j++){const Z=ie(v,U[j],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Sh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Xn(this.g),Te=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||St!=4||Te==7||(Te==8||qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var v=wh(this);if(this.o=m==200,Xl(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,we(12),yn(this),In(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=Zl(this,v),fe==je){St==4&&(this.m=4,we(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,we(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,fe,null),fi(this,fe);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Io(Z),Z.P=!0,we(11))}}else li(this.i,this.l,v,null),fi(this,v);St==4&&yn(this),this.o&&!this.K&&(St==4?ou(this.j,this):(this.o=!1,ci(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),yn(this),In(this)}}}catch{}};function wh(u){if(!Jl(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let v="";const T=m.length,U=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),In(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Re:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function ci(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ri(),we(17)),yn(this),this.m=2,In(this)):ta(this,this.T-u)};function In(u){u.j.I==0||u.K||ou(u.j,u)}function yn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||mi(v.h,u))){if(!u.L&&mi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),Ts(v);else break t;Tr(v),we(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(_(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((u.L||v.g==u)&&la(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const fe=qt[0];if(!(fe<=v.K))if(v.K=fe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const On=qt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ti=qt[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const $n=qt[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Jn=u.g;if(Jn){const Ar=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var j=T.h;j.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(po(j,j.h),j.h=null))}if(T.G){const ua=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Yt(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var Z=u;if(T.na=cu(T,T.L?T.ba:null,T.W),Z.L){yo(T.h,Z);var St=Z,Te=T.O;Te&&(St.H=Te),St.D&&(hi(St),ci(St)),T.g=Z}else ru(T);v.i.length>0&&vi(v)}else qt[0]!="stop"&&qt[0]!="close"||Ei(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ei(v,7):Ro(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ri(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,j=null;T>=0?(U=u[v].substring(0,T),j=u[v].substring(T+1)):U=u[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,vo(this,iu(u.i)),this.m=u.m):u&&(m=String(u).match(Wl))?(this.l=!1,Be(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ms(this,m[4]),this.h=gi(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,na,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?Eo:tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,eu)),u.join("")},_n.prototype.resolve=function(u){const m=Ie(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ms(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let Z=0;Z<U.length;){const St=U[Z++];St=="."?T&&Z==U.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&Z==U.length&&j.push("")):(j.push(St),T=!0)}T=j.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?vo(m,iu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ie(u){return new _n(u)}function Be(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,v){m instanceof ps?(u.i=m,sa(u.i,u.l)):(v||(m=gr(m,gs)),u.i=new ps(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function mr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,tu=/[#\?:]/g,Eo=/[#\?]/g,gs=/[#\?@]/g,eu=/#/g;function ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ps.prototype,r.add=function(u,m){cn(this),this.i=null,u=ys(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function nu(u,m){cn(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return cn(u),m=ys(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ao(u,m){cn(u);let v=[];if(typeof m=="string")To(u,m)&&(v=v.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=ys(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){nu(u,m),v.length>0&&(u.i=null,u.g.set(ys(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ui(v);v=Ao(this,v);for(let j=0;j<v.length;j++){let Z=U;v[j]!==""&&(Z+="="+Ui(v[j])),u.push(Z)}}return this.i=u.join("&")};function iu(u){const m=new ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(nu(this,T),ia(this,U,v))},u)),u.j=m}function Kn(u,m){const v=new Fn;if(d.Image){const T=new Image;T.onload=A(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const v=new Fn,T=new AbortController,U=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function _s(){this.g=new Fl}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(pi,Gl),pi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,he),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Yn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},r.Na=function(u){this.g&&(this.response=u,vs(this))},r.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Nn(v),typeof u=="string"?v!=null&&Ui(v):Yt(u,m,v))}function Wt(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Wt,he);var yi=/^https?$/i,bo=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){_r(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of v)this.g.setRequestHeader(j,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){_r(this,j)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),ki(u)}function wo(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let Z=String(u.D).match(Wl)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!yi.test(Z?Z.toLowerCase():"")}v=T}if(v)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var U=Xn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",wo(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ue(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=$l(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}zt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Es.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){we(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),vi(this)};function Ro(u){if(aa(u),u.I==3){var m=u.V++,v=Ie(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Er(u,v),m=new Gn(u,u.j,m),m.M=2,m.A=mr(Ie(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=hu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}uu(u)}function Ts(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function aa(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Gt||b(),xt||(Gt(),xt=!0),I.add(m,u),u.D=0}}function oa(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),lu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Gn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=N(j),tt(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=su(this,U,m),v=Ie(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Er(this,v),j&&(this.R?m="headers="+Ui(Nn(j))+"&"+m:this.u&&yr(v,this.u,j)),po(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||go(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const T=Ie(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new Gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=su(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,v),ui(v,T,m)}function Er(u,m){u.H&&Lt(u.H,function(v,T){Yt(m,T,v)}),u.l&&Lt({},function(v,T){Yt(m,T,v)})}function su(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const Te=["count="+v];St==-1?v>0?(St=U[0].g,Te.push("ofs="+St)):St=0:Te.push("ofs="+St);let qt=!0;for(let fe=0;fe<v;fe++){var j=U[fe].g;const On=U[fe].map;if(j-=St,j<0)St=Math.max(0,U[fe].g-100),qt=!1;else try{j="req"+j+"_"||"";try{var Z=On instanceof Map?On:Object.entries(On);for(const[Ti,$n]of Z){let Jn=$n;p($n)&&(Jn=ds($n)),Te.push(j+Ti+"="+encodeURIComponent(Jn))}}catch(Ti){throw Te.push(j+"type="+encodeURIComponent("_badmap")),Ti}}catch{T&&T(On)}}if(qt){Z=Te.join("&");break t}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Gt||b(),xt||(Gt(),xt=!0),I.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),lu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Ts(this),au(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function au(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Ie(m)),v.u=null,v.R=!0,Wr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ts(this),Tr(this),we(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var v=null;if(u.g==m){la(u),Io(u),u.g=null;var T=2}else if(mi(u.h,m))v=m.G,yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Zr(),Ue(T,new ai(T,v)),vi(u)}else ru(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function lu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),mr(T),U?Kn(T.toString(),v):So(T.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),uu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function uu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function cu(u,m,v){var T=v instanceof _n?Ie(v):new _n(v);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new _n(null);T&&Be(j,T),m&&(j.g=m),U&&ms(j,U),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),Er(u,T),T}function hu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new pi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new an(u,m)};function an(u,m){he.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}S(an,he),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ro(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ds(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&vi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,an.Z.N.call(this)};function du(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(du,Fe);function mu(){Cn.call(this),this.status=1}S(mu,Cn);function zi(u){this.g=u}S(zi,fu),zi.prototype.ra=function(){Ue(this.g,"a")},zi.prototype.qa=function(u){Ue(this.g,new du(u))},zi.prototype.pa=function(u){Ue(this.g,new mu)},zi.prototype.oa=function(){Ue(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,lE=function(){return new As},oE=function(){return Zr()},aE=Ee,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Oc=fr,ho.COMPLETE="complete",rE=ho,Ql.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",he.prototype.listen=he.prototype.J,dl=Ql,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,sE=Wt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",dv="4.9.3";class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ro="12.7.0";const Fr=new pm("@firebase/firestore");function za(){return Fr.logLevel}function rt(r,...t){if(Fr.logLevel<=Ot.DEBUG){const i=t.map(Cm);Fr.debug(`Firestore (${ro}): ${r}`,...i)}}function ls(r,...t){if(Fr.logLevel<=Ot.ERROR){const i=t.map(Cm);Fr.error(`Firestore (${ro}): ${r}`,...i)}}function $a(r,...t){if(Fr.logLevel<=Ot.WARN){const i=t.map(Cm);Fr.warn(`Firestore (${ro}): ${r}`,...i)}}function Cm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,uE(r,a,i)}function uE(r,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ls(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||uE(t,l,a)}function Tt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class cE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xR{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new cE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class LR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=PR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Zd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Vd(l)===Vd(c)?Mt(l,c):Vd(l)?1:-1}return Mt(r.length,t.length)}const zR=55296,jR=57343;function Vd(r){const t=r.charCodeAt(0);return t>=zR&&t<=jR}function Ja(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const gv="__name__";class Ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ri.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ri.isNumericId(t),l=Ri.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ue extends Ri{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ri{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return BR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Je([gv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ue.fromString(t))}static fromName(t){return new ft(ue.fromString(t).popFirst(5))}static empty(){return new ft(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ue(t.slice()))}}function hE(r,t,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qR(r,t,i,a){if(t===!0&&a===!0)throw new lt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!ft.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yv(r){if(ft.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Di(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Pl(r,t){if(!fE(r))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*vv);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_v)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:xe("string",ce._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ce(0,0))}static max(){return new vt(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wl=-1;function HR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new ir(l,ft.empty(),t)}function FR(r){return new ir(r.readTime,r.key,wl)}class ir{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ir(vt.min(),ft.empty(),wl)}static max(){return new ir(vt.max(),ft.empty(),wl)}}function GR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==QR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function YR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Nm=-1;function oh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function XR(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dE="";function $R(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ev(t)),t=JR(r.get(i),t);return Ev(t)}function JR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function Ev(r){return r+dE+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Kr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function mE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ni([])}unionWith(t){let i=new ze(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ni(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gE("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const ZR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=ZR.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rr(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}const pE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Om(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===pE}function lh(r){const t=r.mapValue.fields[_E];return Om(t)?lh(t):t}function Rl(r){const t=sr(r.mapValue.fields[vE].timestampValue);return new ce(t.seconds,t.nanos)}class WR{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",t2="__max__",Ac={mapValue:{}},TE="__vector__",Kc="value";function ar(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:n2(r)?9007199254740991:e2(r)?10:11:pt(28295,{value:r})}function xi(r,t){if(r===t)return!0;const i=ar(r);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Rl(r).isEqual(Rl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=sr(l.timestampValue),p=sr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return rr(l.bytesValue).isEqual(rr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Tv(d)!==Tv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!xi(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Il(r,t){return(r.values||[]).find((i=>xi(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=ar(r),a=ar(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),y=be(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Sv(r.timestampValue,t.timestampValue);case 4:return Sv(Rl(r),Rl(t));case 5:return Zd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=rr(c),y=rr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Mt(p[_],y[_]);if(A!==0)return A}return Mt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(be(c.latitude),be(d.latitude));return p!==0?p:Mt(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Kc]?.arrayValue,A=y[Kc]?.arrayValue,S=Mt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:bv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const x=Zd(y[S],A[S]);if(x!==0)return x;const F=Za(p[y[S]],_[A[S]]);if(F!==0)return F}return Mt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=sr(r),a=sr(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function bv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Wa(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=sr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Mc(r){switch(ar(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Kr(a.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function tm(r){return!!r&&"integerValue"in r}function Mm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function e2(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===TE}function vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Kr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=vl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=vl(r.arrayValue.values[i]);return t}return{...r}}function n2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Kr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Bn(vl(this.value))}}function AE(r){const t=[];return Kr(r.fields,((i,a)=>{const l=new Je([i]);if(Vc(a)){const c=AE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ni(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,vt.min(),vt.min(),vt.min(),Bn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,vt.min(),vt.min(),Bn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,vt.min(),vt.min(),Bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Iv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function i2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class SE{}class Pe extends SE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new r2(t,i,a):i==="array-contains"?new l2(t,a):i==="in"?new u2(t,a):i==="not-in"?new c2(t,a):i==="array-contains-any"?new h2(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new a2(t,a):new o2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends SE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return bE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(r){return r.op==="and"}function wE(r){return s2(r)&&bE(r)}function s2(r){for(const t of r.filters)if(t instanceof Li)return!1;return!0}function em(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(wE(r))return r.filters.map((t=>em(t))).join(",");{const t=r.filters.map((i=>em(i))).join(",");return`${r.op}(${t})`}}function RE(r,t){return r instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&xi(a.value,l.value)})(r,t):r instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&RE(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function CE(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(r):"Filter"}class r2 extends Pe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class a2 extends Pe{constructor(t,i){super(t,"in",i),this.keys=IE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class o2 extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=IE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function IE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class l2 extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Il(i.arrayValue,this.value)}}class u2 extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Il(this.value.arrayValue,i)}}class c2 extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Il(this.value.arrayValue,i)}}class h2 extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Il(this.value.arrayValue,a)))}}class f2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Dv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new f2(r,t,i,a,l,c,d)}function Vm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!i2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!RE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Iv(r.startAt,t.startAt)&&Iv(r.endAt,t.endAt)}function nm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class uh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d2(r,t,i,a,l,c,d,p){return new uh(r,t,i,a,l,c,d,p)}function ch(r){return new uh(r)}function Nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function m2(r){return r.collectionGroup!==null}function El(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Je.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new Xc(Je.keyField(),a))}return t.Ie}function Ni(r){const t=Tt(r);return t.Ee||(t.Ee=g2(t,El(r))),t.Ee}function g2(r,t){if(r.limitType==="F")return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=r.endAt?new Yc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Yc(r.startAt.position,r.startAt.inclusive):null;return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function im(r,t,i){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function hh(r,t){return xm(Ni(r),Ni(t))&&r.limitType===t.limitType}function DE(r){return`${Vm(Ni(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(Ni(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of El(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Cv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,El(a),l)||a.endAt&&!(function(d,p,y){const _=Cv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,El(a),l))})(r,t)}function p2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NE(r){return(t,i)=>{let a=!1;for(const l of El(r)){const c=y2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function y2(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Za(y,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const _2=new me(ft.comparator);function us(){return _2}const OE=new me(ft.comparator);function ml(...r){let t=OE;for(const i of r)t=t.insert(i.key,i);return t}function ME(r){let t=OE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return Tl()}function VE(){return Tl()}function Tl(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const v2=new me(ft.comparator),E2=new ze(ft.comparator);function Vt(...r){let t=E2;for(const i of r)t=t.add(i);return t}const T2=new ze(Mt);function A2(){return T2}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function xE(r){return{integerValue:""+r}}function S2(r,t){return XR(t)?xE(t):Lm(r,t)}class dh{constructor(){this._=void 0}}function b2(r,t,i){return r instanceof $c?(function(l,c){const d={fields:{[yE]:{stringValue:pE},[vE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=lh(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,t):r instanceof Dl?UE(r,t):r instanceof Nl?kE(r,t):(function(l,c){const d=LE(l,c),p=Ov(d)+Ov(l.Ae);return tm(d)&&tm(l.Ae)?xE(p):Lm(l.serializer,p)})(r,t)}function w2(r,t,i){return r instanceof Dl?UE(r,t):r instanceof Nl?kE(r,t):i}function LE(r,t){return r instanceof Jc?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends dh{}class Dl extends dh{constructor(t){super(),this.elements=t}}function UE(r,t){const i=PE(t);for(const a of r.elements)i.some((l=>xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Nl extends dh{constructor(t){super(),this.elements=t}}function kE(r,t){let i=PE(t);for(const a of r.elements)i=i.filter((l=>!xi(l,a)));return{arrayValue:{values:i}}}class Jc extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return be(r.integerValue||r.doubleValue)}function PE(r){return Mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function R2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Dl&&l instanceof Dl||a instanceof Nl&&l instanceof Nl?Ja(a.elements,l.elements,xi):a instanceof Jc&&l instanceof Jc?xi(a.Ae,l.Ae):a instanceof $c&&l instanceof $c})(r.transform,t.transform)}class C2{constructor(t,i){this.version=t,this.transformResults=i}}class ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mh{}function zE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,ii.none()):new zl(r.key,r.data,ii.none());{const i=r.data,a=Bn.empty();let l=new ze(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Xr(r.key,a,new ni(l.toArray()),ii.none())}}function I2(r,t,i){r instanceof zl?(function(l,c,d){const p=l.value.clone(),y=Vv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Xr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Vv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(jE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Al(r,t,i,a){return r instanceof zl?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const _=c.value.clone(),A=xv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Xr?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const _=xv(c.fieldTransforms,y,d),A=d.data;return A.setAll(jE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function D2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=LE(a.transform,l||null);c!=null&&(i===null&&(i=Bn.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>R2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class zl extends mh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xr extends mh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,w2(d,p,i[l]))}return a}function xv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,b2(c,d,t))}return a}class Um extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N2 extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&I2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=VE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=zE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return v2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new km(t,i,a,l)}}class M2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ve,kt;function x2(r){switch(r){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function BE(r){if(r===void 0)return ls("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ve.OK:return X.OK;case Ve.CANCELLED:return X.CANCELLED;case Ve.UNKNOWN:return X.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return X.INTERNAL;case Ve.UNAVAILABLE:return X.UNAVAILABLE;case Ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ve.NOT_FOUND:return X.NOT_FOUND;case Ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ve.ABORTED:return X.ABORTED;case Ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ve.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:r})}}(kt=Ve||(Ve={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function L2(){return new TextEncoder}const U2=new tr([4294967295,4294967295],0);function Lv(r){const t=L2().encode(r),i=new iE;return i.update(t),new Uint8Array(i.digest())}function Uv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,a],0),new tr([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(tr.fromNumber(a)));return l.compare(U2)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Lv(t),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Lv(t),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new gh(vt.min(),l,new me(Mt),us(),Vt())}}class jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jl(a,i,Vt(),Vt(),Vt())}}class Lc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class qE{constructor(t,i){this.targetId=t,this.Ce=i}}class HE{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class kv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k2{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.Je=Sc(),this.He=Sc(),this.Ye=new me(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new ft(c.path);this.et(i,d,nn.newNoDocument(d,vt.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=rr(a).toUint8Array()}catch(y){if(y instanceof gE)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Pm(d,l,c)}catch(y){return $a(y instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,nn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new gh(t,i,this.Ye,this.je,a);return this.je=us(),this.Je=Sc(),this.He=Sc(),this.Ye=new me(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new me(ft.comparator)}function Pv(){return new me(ft.comparator)}const P2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class B2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||oh(t)?t:{value:t}}function Zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function q2(r,t){return Zc(r,t.toTimestamp())}function Oi(r){return Qt(!!r,49232),vt.fromTimestamp((function(i){const a=sr(i);return new ce(a.seconds,a.nanos)})(r))}function zm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function GE(r){const t=ue.fromString(r);return Qt($E(t),10190,{key:t.toString()}),t}function am(r,t){return zm(r.databaseId,t.path)}function xd(r,t){const i=GE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(KE(i))}function QE(r,t){return zm(r.databaseId,t)}function H2(r){const t=GE(r);return t.length===4?ue.emptyPath():KE(t)}function om(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KE(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:am(r,t),fields:i.value.mapValue.fields}}function F2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Ze.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ze.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:BE(_.code);return new lt(A,_.message||"")})(d);i=new HE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=xd(r,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):vt.min(),p=new Bn({mapValue:{fields:a.document.fields}}),y=nn.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Lc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=xd(r,a.document),c=a.readTime?Oi(a.readTime):vt.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=xd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new V2(l,c),p=a.targetId;i=new qE(p,d)}}return i}function G2(r,t){let i;if(t instanceof zl)i={update:zv(r,t.key,t.value)};else if(t instanceof Um)i={delete:am(r,t.key)};else if(t instanceof Xr)i={update:zv(r,t.key,t.data),updateMask:tC(t.fieldMask)};else{if(!(t instanceof N2))return pt(16599,{Vt:t.type});i={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:q2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function Q2(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(vt.min())&&(d=Oi(c)),new C2(d,l.transformResults||[])})(i,t)))):[]}function K2(r,t){return{documents:[QE(r,t.path)]}}function Y2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=QE(r,l);const c=(function(_){if(_.length!==0)return XE(Li.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:Ba(x.field),direction:J2(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function X2(r){let t=H2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const x=YE(S);return x instanceof Li&&wE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(W){return new Xc(qa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,oh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(S){const x=!!S.before,F=S.values||[];return new Yc(F,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const x=!S.before,F=S.values||[];return new Yc(F,x)})(i.endAt)),d2(t,l,d,c,p,"F",y,_)}function $2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>YE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function J2(r){return P2[r]}function Z2(r){return z2[r]}function W2(r){return j2[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Je.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:Z2(i.op),value:i.value}}})(r):r instanceof Li?(function(i){const a=i.getFilters().map((l=>XE(l)));return a.length===1?a[0]:{compositeFilter:{op:W2(i.op),filters:a}}})(r):pt(54877,{filter:r})}function tC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $s{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Ze.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eC{constructor(t){this.yt=t}}function nC(r){const t=X2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}class iC{constructor(){this.Cn=new sC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(ir.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class sC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(ue.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(JE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const Bv="LruGarbageCollector",rC=1048576;function qv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class aC{constructor(t){this.Ir=t,this.buffer=new ze(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class lC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(ah.ce);const a=new aC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),za()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function uC(r,t){return new lC(r,t)}class cC{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class fC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Al(a.mutation,l,ni.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=us();const d=Tl(),p=(function(){return Tl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Xr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Al(A.mutation,_,A.mutation.getFieldMask(),ce.now())):d.set(_.key,ni.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new hC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Tl();let l=new me(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||ni.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(l.get(p.batchId)||Vt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=VE();A.forEach((x=>{if(!c.has(x)){const F=zE(i.get(x),a.get(x));F!==null&&S.set(x,F),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):m2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(zr());let p=wl,y=c;return d.next((_=>Y.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Vt()))).next((A=>({batchId:p,changes:ME(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(y=>{const _=(function(S,x){return new uh(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,nn.newInvalidDocument(A)))}));let p=ml();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Al(A.mutation,_,ni.empty(),ce.now()),fh(i,_)&&(p=p.insert(y,_))})),p}))}}class dC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:nC(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Y.resolve()}}class mC{constructor(){this.overlays=new me(ft.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=zr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=zr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=zr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new M2(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class gC{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class jm{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ue([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ue([])),a=new He(i,t),l=new He(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class pC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new O2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Nm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Mt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new He(new ft(c),0);let p=new ze(Mt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yC{constructor(t){this.ri=t,this.docs=(function(){return new me(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=us();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||GR(FR(A),a)<=0||(l.has(A.key)||fh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new _C(this)}getSize(t){return Y.resolve(this.size)}}class _C extends cC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class vC{constructor(t){this.persistence=t,this.si=new Yr((i=>Vm(i)),xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class ZE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=t(this),this.Pi=new vC(this),this.indexManager=new iC,this.remoteDocumentCache=(function(l){return new yC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new eC(i),this.Ii=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new mC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new pC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new EC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class EC extends KR{constructor(t){super(),this.currentSequenceNumber=t}}class Bm{constructor(t){this.persistence=t,this.Ri=new jm,this.Vi=null}static mi(t){return new Bm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new Yr((a=>$R(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=uC(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new qm(t,i.fromCache,a,l)}}class TC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class AC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cS()?8:YR(sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new TC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(za()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(za()<=Ot.DEBUG&&rt("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(za()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Y.resolve())}ys(t,i){if(Nv(i))return Y.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=im(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,im(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Nv(i)||l.isEqual(vt.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Y.resolve(null):(za()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.vs(t,d,i,HR(l,wl)).next((p=>p)))}))}Ds(t,i){let a=new ze(NE(t));return i.forEach(((l,c)=>{fh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return za()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,ir.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Hm="LocalStore",SC=3e8;class bC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(Mt),this.xs=new Yr((c=>Vm(c)),xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function wC(r,t,i,a){return new bC(r,t,i,a)}async function WE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Vt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function RC(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,x=S.keys();let F=Y.resolve();return x.forEach((W=>{F=F.next((()=>A.getEntry(y,W))).next((nt=>{const J=_.docVersions.get(W);Qt(J!==null,48541),nt.version.compareTo(J)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function tT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function CC(r,t){const i=Tt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ze.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(S,F),(function(nt,J,ht){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=SC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(x,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let y=us(),_=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(IC(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function IC(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=us();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Hm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function DC(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function NC(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new $s(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function lm(r,t,i){const a=Tt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(Hm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Hv(r,t,i){const a=Tt(r);let l=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Tt(y),x=S.xs.get(A);return x!==void 0?Y.resolve(S.Ms.get(x)):S.Pi.getTargetData(_,A)})(a,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Vt()))).next((p=>(OC(a,p2(t),p),{documents:p,Qs:c})))))}function OC(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=A2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MC{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class VC{Oo(t){}shutdown(){}}const Gv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function um(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const Ld="RestConnection",xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=um(),p=this.zo(t,i.toUriEncodedString());rt(Ld,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=no(_);return this.Jo(t,p,y,a,A).then((S=>(rt(Ld,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(Ld,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=xC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class UC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class kC extends LC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=um();return new Promise(((p,y)=>{const _=new sE;_.setWithCredentials(!0),_.listenOnce(rE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const S=_.getResponseJson();rt(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Oc.TIMEOUT:rt(tn,`RPC '${t}' ${d} timed out`),y(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const x=_.getStatus();if(rt(tn,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const nt=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_t)>=0?_t:X.UNKNOWN})(W.status);y(new lt(nt,W.message))}else y(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new lt(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(tn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(tn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=um(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=lE(),p=oE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");rt(tn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let x=!1,F=!1;const W=new UC({Yo:J=>{F?rt(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(rt(tn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),rt(tn,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),nt=(J,ht,_t)=>{J.listen(ht,(dt=>{try{_t(dt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return nt(S,dl.EventType.OPEN,(()=>{F||(rt(tn,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),nt(S,dl.EventType.CLOSE,(()=>{F||(F=!0,rt(tn,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),nt(S,dl.EventType.ERROR,(J=>{F||(F=!0,$a(tn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new lt(X.UNAVAILABLE,"The operation could not be completed")))})),nt(S,dl.EventType.MESSAGE,(J=>{if(!F){const ht=J.data[0];Qt(!!ht,16349);const _t=ht,dt=_t?.error||_t[0]?.error;if(dt){rt(tn,`RPC '${t}' stream ${l} received error:`,dt);const Ft=dt.status;let Gt=(function(b){const C=Ve[b];if(C!==void 0)return BE(C)})(Ft),xt=dt.message;Gt===void 0&&(Gt=X.INTERNAL,xt="Unknown error status: "+Ft+" with message "+dt.message),F=!0,W.a_(new lt(Gt,xt)),S.close()}else rt(tn,`RPC '${t}' stream ${l} received:`,ht),W.u_(ht)}})),nt(p,aE.STAT_EVENT,(J=>{J.stat===Jd.PROXY?rt(tn,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Jd.NOPROXY&&rt(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ud(){return typeof document<"u"?document:null}function ph(r){return new B2(r,!0)}class eT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class nT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PC extends nT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=F2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Oi(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=nm(y)?{documents:K2(c,y)}:{query:Y2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FE(c,d.resumeToken);const _=sm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Zc(c,d.snapshotVersion.toTimestamp());const _=sm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=$2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.q_(i)}}class zC extends nT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Q2(t.writeResults,t.commitTime),a=Oi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>G2(this.serializer,a)))};this.q_(i)}}class jC{}class BC extends jC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class HC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(rt(Gr,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Bl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await yh(_)})(this))}))})),this.Ra=new qC(a,l)}}async function yh(r){if($r(r))for(const t of r.da)await t(!0)}async function Bl(r){for(const t of r.da)await t(!1)}function iT(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Qm(i):lo(i).O_()&&Gm(i,t))}function Fm(r,t){const i=Tt(r),a=lo(i);i.Ia.delete(t),a.O_()&&sT(i,t),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function Gm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).Y_(t)}function sT(r,t){r.Va.Ue(t),lo(r).Z_(t)}function Qm(r){r.Va=new k2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function Km(r){return $r(r)&&!lo(r).x_()&&r.Ia.size>0}function $r(r){return Tt(r).Ea.size===0}function rT(r){r.Va=void 0}async function FC(r){r.Ra.set("Online")}async function GC(r){r.Ia.forEach(((t,i)=>{Gm(r,t)}))}async function QC(r,t){rT(r),Km(r)?(r.Ra.ha(t),Qm(r)):r.Ra.set("Unknown")}async function KC(r,t,i){if(r.Ra.set("Online"),t instanceof HE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(r,a)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof qE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await tT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ze.EMPTY_BYTE_STRING,A.snapshotVersion)),sT(c,y);const S=new $s(A.target,y,_,A.sequenceNumber);Gm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Gr,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Bl(r),r.Ra.set("Offline"),i||(i=()=>tT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await yh(r)}))}function aT(r,t){return t().catch((i=>th(r,i,t)))}async function _h(r){const t=Tt(r),i=or(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;YC(t);)try{const l=await DC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,XC(t,l)}catch(l){await th(t,l)}oT(t)&&lT(t)}function YC(r){return $r(r)&&r.Ta.length<10}function XC(r,t){r.Ta.push(t);const i=or(r);i.O_()&&i.X_&&i.ea(t.mutations)}function oT(r){return $r(r)&&!or(r).x_()&&r.Ta.length>0}function lT(r){or(r).start()}async function $C(r){or(r).ra()}async function JC(r){const t=or(r);for(const i of r.Ta)t.ea(i.mutations)}async function ZC(r,t,i){const a=r.Ta.shift(),l=km.from(a,t,i);await aT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await _h(r)}async function WC(r,t){t&&or(r).X_&&await(async function(a,l){if((function(d){return x2(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();or(a).B_(),await aT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(a)}})(r,t),oT(r)&&lT(r)}async function Yv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),rt(Gr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await Bl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function tI(r,t){const i=Tt(r);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new PC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:FC.bind(null,r),t_:GC.bind(null,r),r_:QC.bind(null,r),H_:KC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Km(r)?Qm(r):r.Ra.set("Unknown")):(await r.ma.stop(),rT(r))}))),r.ma}function or(r){return r.fa||(r.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new zC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$C.bind(null,r),r_:WC.bind(null,r),ta:JC.bind(null,r),na:ZC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await _h(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ym{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Ym(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(ls("AsyncQueue",`${t}: ${r}`),oo(r))return new lt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new me(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nI{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=$v(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function $v(){return new Yr((r=>DE(r)),hh)}async function uT(r,t){const i=Tt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new eI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Xm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function cT(r,t){const i=Tt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iI(r,t){const i=Tt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function sI(r,t,i){const a=Tt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function $m(r){r.Ca.forEach((t=>{t.next()}))}var cm,Jv;(Jv=cm||(cm={})).Ma="default",Jv.Cache="cache";class hT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class fT{constructor(t){this.key=t}}class dT{constructor(t){this.key=t}}class rI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=NE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),F=fh(this.query,S)?S:null,W=!!x&&this.mutatedKeys.has(x.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;x&&F?x.data.isEqual(F.data)?W!==nt&&(a.track({type:3,doc:F}),J=!0):this.su(x,F)||(a.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!x&&F?(a.track({type:0,doc:F}),J=!0):x&&!F&&(a.track({type:1,doc:x}),J=!0,(y||_)&&(p=!0)),J&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,W){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return nt(F)-nt(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new dT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new fT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class aI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class oI{constructor(t){this.key=t,this.hu=!1}}class lI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>DE(p)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new me(ft.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(r,t,i=!0){const a=vT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await mT(a,t,i,!0),l}async function cI(r,t){const i=vT(r);await mT(i,t,!0,!1)}async function mT(r,t,i,a){const l=await NC(r.localStore,Ni(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await hI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,l),p}async function hI(r,t,i,a,l){r.pu=(S,x,F)=>(async function(nt,J,ht,_t){let dt=J.view.ru(ht);dt.Cs&&(dt=await Hv(nt.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,dt))));const Ft=_t&&_t.targetChanges.get(J.targetId),Gt=_t&&_t.targetMismatches.get(J.targetId)!=null,xt=J.view.applyChanges(dt,nt.isPrimaryClient,Ft,Gt);return Wv(nt,J.targetId,xt.au),xt.snapshot})(r,S,x,F);const c=await Hv(r.localStore,t,!0),d=new rI(t,c.Qs),p=d.ru(c.documents),y=jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Wv(r,i,_.au);const A=new aI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function fI(r,t,i){const a=Tt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!hh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Fm(a.remoteStore,l.targetId),hm(a,l.targetId)})).catch(ao)):(hm(a,l.targetId),await lm(a.localStore,l.targetId,!0))}async function dI(r,t){const i=Tt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function mI(r,t,i){const a=TI(r);try{const l=await(function(d,p){const y=Tt(d),_=ce.now(),A=p.reduce(((F,W)=>F.add(W.key)),Vt());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=us(),nt=Vt();return y.Ns.getEntries(F,A).next((J=>{W=J,W.forEach(((ht,_t)=>{_t.isValidDocument()||(nt=nt.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,W))).next((J=>{S=J;const ht=[];for(const _t of p){const dt=D2(_t,S.get(_t.key).overlayedDocument);dt!=null&&ht.push(new Xr(_t.key,dt,AE(dt.value.mapValue),ii.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ht,p)})).next((J=>{x=J;const ht=J.applyToLocalDocumentSet(S,nt);return y.documentOverlayCache.saveOverlays(F,J.batchId,ht)}))})).then((()=>({batchId:x.batchId,changes:ME(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(Mt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await ql(a,l.changes),await _h(a.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");i.reject(c)}}async function gT(r,t){const i=Tt(r);try{const a=await CC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await ql(i,a,t)}catch(a){await ao(a)}}function Zv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(p)&&(_=!0)})),_&&$m(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function gI(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(ft.comparator);d=d.insert(c,nn.newNoDocument(c,vt.min()));const p=Vt().add(c),y=new gh(vt.min(),new Map,new me(Mt),d,p);await gT(a,y),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await lm(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(ao)}async function pI(r,t){const i=Tt(r),a=t.batch.batchId;try{const l=await RC(i.localStore,t);yT(i,a,null),pT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ql(i,l)}catch(l){await ao(l)}}async function yI(r,t,i){const a=Tt(r);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);yT(a,t,i),pT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ql(a,l)}catch(l){await ao(l)}}function pT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function yT(r,t,i){const a=Tt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function hm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||_T(r,a)}))}function _T(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Fm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Zm(r))}function Wv(r,t,i){for(const a of i)a instanceof fT?(r.Ru.addReference(a.key,t),_I(r,a)):a instanceof dT?(rt(Jm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||_T(r,a.key)):pt(19791,{wu:a})}function _I(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(Jm,"New document in limbo: "+i),r.Eu.add(a),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new oI(i)),r.du=r.du.insert(i,a),iT(r.remoteStore,new $s(Ni(ch(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function ql(r,t,i){const a=Tt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=qm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Y.forEach(_,(x=>Y.forEach(x.Es,(F=>A.persistence.referenceDelegate.addReference(S,x.targetId,F))).next((()=>Y.forEach(x.ds,(F=>A.persistence.referenceDelegate.removeReference(S,x.targetId,F)))))))))}catch(S){if(!oo(S))throw S;rt(Hm,"Failed to update sequence numbers: "+S)}for(const S of _){const x=S.targetId;if(!S.fromCache){const F=A.Ms.get(x),W=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(x,nt)}}})(a.localStore,c))}async function vI(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){rt(Jm,"User change. New user:",t.toKey());const a=await WE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new lt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ql(i,a.Ls)}}function EI(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function vT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gI.bind(null,t),t.Pu.H_=iI.bind(null,t.eventManager),t.Pu.yu=sI.bind(null,t.eventManager),t}function TI(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return wC(this.persistence,new AC,t.initialUser,this.serializer)}Cu(t){return new ZE(Bm.mi,this.serializer)}Du(t){return new MC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class AI extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ZE((a=>Wc.mi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await tI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nI})()}createDatastore(t){const i=ph(t.databaseInfo.databaseId),a=(function(c){return new kC(c)})(t.databaseInfo);return(function(c,d,p,y){return new BC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new HC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new VC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new lI(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(Gr,"RemoteStore shutting down."),a.Ea.add(5),await Bl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class ET{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const lr="FirestoreClient";class SI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function kd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await WE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await bI(r);rt(lr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),r._onlineComponents=t}async function bI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(lr,"Using user provided OfflineComponentProvider");try{await kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await kd(r,new eh)}}else rt(lr,"Using default OfflineComponentProvider"),await kd(r,new AI(void 0));return r._offlineComponents}async function TT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(lr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(rt(lr,"Using default OnlineComponentProvider"),await t0(r,new fm))),r._onlineComponents}function wI(r){return TT(r).then((t=>t.syncEngine))}async function dm(r){const t=await TT(r),i=t.eventManager;return i.onListen=uI.bind(null,t.syncEngine),i.onUnlisten=fI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dI.bind(null,t.syncEngine),i}function RI(r,t,i={}){const a=new er;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new ET({next:x=>{A.Nu(),d.enqueueAndForget((()=>cT(c,S)));const F=x.docs.has(p);!F&&x.fromCache?_.reject(new lt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&y&&y.source==="server"?_.reject(new lt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new hT(ch(p.path),A,{includeMetadataChanges:!0,qa:!0});return uT(c,S)})(await dm(r),r.asyncQueue,t,i,a))),a.promise}function AT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const e0=new Map;const ST="firestore.googleapis.com",n0=!0;class i0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=n0}else this.host=t.host,this.ssl=t.ssl??n0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rC)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new MR;switch(a.type){case"firstParty":return new UR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=e0.get(i);a&&(rt("ComponentProvider","Removing Datastore"),e0.delete(i),a.terminate())})(this),Promise.resolve()}}function CI(r,t,i,a={}){r=Di(r,vh);const l=no(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(_0(`https://${p}`),v0("Firestore",!0)),c.host!==ST&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Br(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=en.MOCK_USER;else{_=eS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new en(S)}r._authCredentials=new VR(new cE(_,A))}}class Eh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Eh(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Le._jsonSchema))return new Le(t,a||null,new ft(ue.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:xe("string",Le._jsonSchemaVersion),referencePath:xe("string")};class nr extends Eh{constructor(t,i,a){super(t,i,ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ft(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function s0(r,t,...i){if(r=Rn(r),hE("collection","path",t),r instanceof vh){const a=ue.fromString(t,...i);return yv(a),new nr(r,null,a)}{if(!(r instanceof Le||r instanceof nr))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return yv(a),new nr(r.firestore,null,a)}}function mm(r,t,...i){if(r=Rn(r),arguments.length===1&&(t=Im.newId()),hE("doc","path",t),r instanceof vh){const a=ue.fromString(t,...i);return pv(a),new Le(r,null,new ft(a))}{if(!(r instanceof Le||r instanceof nr))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return pv(a),new Le(r.firestore,r instanceof nr?r.converter:null,new ft(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const a=Ud();a&&rt(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Qr extends vh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new a0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function II(r,t){const i=typeof r=="object"?r:S0(),a=typeof r=="string"?r:Qc,l=_m(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=WA("firestore");c&&CI(l,...c)}return l}function Wm(r){if(r._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DI(r),r._firestoreClient}function DI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new WR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new SI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Ze.fromBase64String(t))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:xe("string",qn._jsonSchemaVersion),bytes:xe("string")};class tg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bT{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:xe("string",Mi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:xe("string",Vi._jsonSchemaVersion),vectorValues:xe("object")};const NI=/^__.*__$/;class OI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}function wT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class eg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&NI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class MI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ph(t)}Cc(t,i,a,l=!1){return new eg({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RT(r){const t=r._freezeSettings(),i=ph(r._databaseId);return new MI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function CT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);OT("Data must be an object, but it was:",d,a);const p=DT(a,d);let y,_;if(c.merge)y=new ni(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const x=VI(t,S,i);if(!d.contains(x))throw new lt(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);LI(A,x)||A.push(x)}y=new ni(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new OI(new Bn(p),y,_)}function IT(r,t){if(NT(r=Rn(r)))return OT("Unsupported field value:",t,r),DT(r,t);if(r instanceof bT)return(function(a,l){if(!wT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=IT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return S2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:Zc(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:FE(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Vi)return(function(d,p){return{mapValue:{fields:{[EE]:{stringValue:TE},[Kc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dm(a)}`)})(r,t)}function DT(r,t){const i={};return mE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(r,((a,l)=>{const c=IT(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Mi||r instanceof qn||r instanceof Le||r instanceof bT||r instanceof Vi)}function OT(r,t,i){if(!NT(i)||!fE(i)){const a=Dm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function VI(r,t,i){if((t=Rn(t))instanceof tg)return t._internalPath;if(typeof t=="string")return MT(r,t);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const xI=new RegExp("[~\\*/\\[\\]]");function MT(r,t,i){if(t.search(xI)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new tg(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new lt(X.INVALID_ARGUMENT,p+r+y)}function LI(r,t){return r.some((i=>i.isEqual(t)))}class VT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(xT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UI extends VT{data(){return super.data()}}function xT(r,t){return typeof t=="string"?MT(r,t):t instanceof tg?t._internalPath:t._delegate._internalPath}function kI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PI{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Kr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>be(a.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new Mi(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=lh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const i=sr(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Qt($E(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends VT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(xT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:xe("string",jr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Uc extends jr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:zI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function jI(r){r=Di(r,Le);const t=Di(r.firestore,Qr);return RI(Wm(t),r._key).then((i=>kT(t,r,i)))}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:xe("string",Ya._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class UT extends PI{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function BI(r,t,i){r=Di(r,Le);const a=Di(r.firestore,Qr),l=LT(r.converter,t);return ng(a,[CT(RT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ii.none())])}function qI(r){return ng(Di(r.firestore,Qr),[new Um(r._key,ii.none())])}function HI(r,t){const i=Di(r.firestore,Qr),a=mm(r),l=LT(r.converter,t);return ng(i,[CT(RT(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ii.exists(!1))]).then((()=>a))}function FI(r,...t){r=Rn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Le)d=Di(r.firestore,Qr),p=ch(r._key.path),c={next:y=>{t[a]&&t[a](kT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Di(r,Eh);d=Di(y.firestore,Qr),p=y._query;const _=new UT(d);c={next:A=>{t[a]&&t[a](new Ya(d,_,y,A))},error:t[a+1],complete:t[a+2]},kI(r._query)}return(function(_,A,S,x){const F=new ET(x),W=new hT(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>uT(await dm(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>cT(await dm(_),W)))}})(Wm(d),p,l,c)}function ng(r,t){return(function(a,l){const c=new er;return a.asyncQueue.enqueueAndForget((async()=>mI(await wI(a),l,c))),c.promise})(Wm(r),t)}function kT(r,t,i){const a=i.docs.get(t._key),l=new UT(r);return new jr(r,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){ro=l})(io),Xa(new qr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Qr(new xR(a.getProvider("auth-internal")),new kR(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ws(fv,dv,t),Ws(fv,dv,"esm2020")})();const GI={apiKey:"AIzaSyBG82RflivIg1LyCrN6yrPcYd0rQEWkUEc",authDomain:"quran-app-aad3c.firebaseapp.com",projectId:"quran-app-aad3c",storageBucket:"quran-app-aad3c.firebasestorage.app",messagingSenderId:"1073143378666",appId:"1:1073143378666:web:671be6dc0c02cca99a1d93",measurementId:"G-EFL24VTQ2C"},PT=A0(GI),Pd=NR(PT),wc=II(PT),zd="quran-tadabbur-app",jd=r=>r?r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").replace(/([a-z])\1+/g,"$1"):"",Bd=r=>r?r.replace(/[\u064B-\u065F]/g,"").replace(/[]/g,""):"",Rc=(r,t)=>{if(!t||!r)return r;const i=t.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=/[\u0600-\u06FF]/.test(t),l="[--]*";let c=[t];if(!a&&_c[i]){const _=Array.isArray(_c[i])?_c[i]:[_c[i]];c=[...c,..._]}const d=c.map(_=>/[\u0600-\u06FF]/.test(_)?`(?:)?${_.replace(/[\u064B-\u065F]/g,"").split("").map(F=>/[]/.test(F)?"[]"+l:F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+l).join("")}`:_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),p=new RegExp(`(${d.join("|")})`,"iu"),y=r.split(p);return $.jsx($.Fragment,{children:y.map((_,A)=>_?new RegExp(`^${d.join("|")}$`,"iu").test(_)||p.test(_)?$.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-500/40 dark:text-yellow-100 rounded px-0.5",children:_},A):_:null)})};function QI(){const[r,t]=Pt.useState(null),[i,a]=Pt.useState([]),[l,c]=Pt.useState([]),[d,p]=Pt.useState(""),[y,_]=Pt.useState(null),[A,S]=Pt.useState([]),[x,F]=Pt.useState(!0),[W,nt]=Pt.useState(!1),[J,ht]=Pt.useState(!0),[_t,dt]=Pt.useState(null),[Ft,Gt]=Pt.useState(""),[xt,I]=Pt.useState(!1),[b,C]=Pt.useState({}),[M,D]=Pt.useState(!1),[L,w]=Pt.useState(null),[Jt,ve]=Pt.useState(22),[q,et]=Pt.useState(18),[ut,Lt]=Pt.useState(!1),[zt,N]=Pt.useState([]),[Q,tt]=Pt.useState(!1),[it,mt]=Pt.useState(!1);Pt.useEffect(()=>{const st=jd(d),se=Bd(d),Zt=i.filter(Kt=>{if(!d.trim()||Kt.number.toString()===d.trim()||jd(Kt.englishName).includes(st))return!0;const ae=K_[Kt.number]||"";return!!(jd(ae).includes(st)||(Bd(Kt.name),Bd(Kt.name).includes(se)))});c(Zt)},[d,i]),Pt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await pw(Pd,__initial_auth_token):await hw(Pd)}catch(Zt){console.error("Auth error:",Zt)}})();const se=vw(Pd,t);return()=>se()},[]),Pt.useEffect(()=>{fetch("https://api.alquran.cloud/v1/surah").then(st=>st.json()).then(st=>{a(st.data),c(st.data),F(!1)}).catch(st=>{w("Impossible de charger la liste des sourates."),F(!1)})},[]),Pt.useEffect(()=>{if(!r)return;const st=s0(wc,"artifacts",zd,"users",r.uid,"highlights"),se=FI(st,Zt=>{const Kt={};Zt.forEach(ae=>{const pe=ae.data();Kt[pe.verseKey]={id:ae.id,...pe}}),C(Kt)},Zt=>console.error("Firestore error:",Zt));return()=>se()},[r]),Pt.useEffect(()=>{document.documentElement.style.setProperty("--main-font-size",`${Jt}px`),document.documentElement.style.setProperty("--analysis-font-size",`${q}px`)},[Jt,q]),Pt.useEffect(()=>{ut?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[ut]),Pt.useEffect(()=>{const st=setTimeout(async()=>{if(d.length>2){tt(!0),mt(!0);try{const Zt=await(await fetch(`https://api.alquran.cloud/v1/search/${d}/all/fr.hamidullah`)).json();if(Zt.data&&Zt.data.matches){const Kt=Zt.data.matches.slice(0,20),ae=await Promise.all(Kt.map(async pe=>{try{const si=await(await fetch(`https://api.alquran.cloud/v1/ayah/${pe.number}/ar.uthmani`)).json();return{...pe,textFr:pe.text,text:si.data.text,key:`${pe.surah.number}:${pe.numberInSurah}`}}catch{return{...pe,textFr:pe.text,text:"Erreur chargement arabe",key:`${pe.surah.number}:${pe.numberInSurah}`}}}));N(ae)}}catch(se){console.error("Erreur recherche:",se)}finally{tt(!1)}}else N([]),mt(!1)},600);return()=>clearTimeout(st)},[d]);const At=async st=>{nt(!0),w(null),dt(null),p(""),mt(!1),N([]);try{const[se,Zt]=await Promise.all([fetch(`https://api.alquran.cloud/v1/surah/${st.number}/ar.uthmani`),fetch(`https://api.alquran.cloud/v1/surah/${st.number}/fr.hamidullah`)]),Kt=await se.json(),ae=await Zt.json();if(Kt.code===200&&ae.code===200){const pe=Kt.data.ayahs.map((ln,si)=>({...ln,textFr:ae.data.ayahs[si].text,key:`${st.number}:${ln.numberInSurah}`}));S(pe),_(Kt.data),window.innerWidth<1024&&ht(!1)}else throw new Error("Erreur de rponse API")}catch(se){console.error("Dtail erreur:",se),w("Impossible de charger les versets.")}finally{nt(!1)}},Rt=async st=>{if(!r)return;const se=st.key,Zt=s0(wc,"artifacts",zd,"users",r.uid,"highlights");b[se]?await qI(mm(wc,"artifacts",zd,"users",r.uid,"highlights",b[se].id)):await HI(Zt,{verseKey:se,surahName:y.englishName,surahNumber:y.number,verseNumber:st.numberInSurah,timestamp:Date.now()})},ge=async st=>{I(!0),dt(st),Gt(""),D(!1);const se=`analysis_s${y.number}_v${st.numberInSurah}`,Zt=mm(wc,"cached_analyses",se),Kt="AIzaSyDBY8d8uPfcHDLDEHL-cfPBstqOEdg28Vk";try{const ae=await jI(Zt);if(ae.exists()){Gt(ae.data().text),D(!0),I(!1);return}const pe=`Tu es "Tadabbur Profond", un expert en Qurn-thrapie et en linguistique arabe. Ton but est de dcortiquer le Coran en profondeur, en suivant rigoureusement ce protocole pour chaque demande :

1. Contexte de la Sourate : Prsente la sourate (Mecquoise ou Mdinoise), ses thmes principaux et la priode de sa rvlation.

2. Mditation sur le Nom : Pourquoi la sourate porte-t-elle ce nom ? Quel est le lien symbolique entre ce titre et le message divin ?

3. Contexte du Verset (Asbb al-Nuzl) : Explique les circonstances prcises de la rvlation de ce verset. Si la sourate a t rvle en plusieurs fois, prcise le moment spcifique de ce verset dans l'histoire du Prophte (saws).

4. Analyse Linguistique & Profondeur :
- Traduction pralable : Fournis systmatiquement le verset en franais (traduction du sens) pour poser le cadre.
- tymologie : Remonte aux racines arabes (Trilitres) pour expliquer le sens originel.
- Grammaire & loquence (Balgha) : Analyse les choix de mots, les pronoms et les nuances (ex: Y abati).
- Nuances Techniques : Dtaille l'impact des particules (Inna, Qad) et l'ordre des mots (Taqdm/Takhr) sur le sens spirituel.
- Trsors cachs : Explique ce que l'arabe exprime et que le franais ne restitue pas.

5. Psychologie & Baume Spirituel : Comment ce verset rsonne avec les motions (tristesse, espoir, peur) ? Rconfort pour le Prophte (saws) et pour nous.

6. Morale de Qurn-thrapie : Termine par une leon de vie concrte, empathique et applicable immdiatement.

Directives de Style :
- Ton : Chaleureux, perspicace, spirituel.
- Format Arabe : Mot en translittration suivi du mot en arabe voyell entre parenthses. Exemple : y abati ( ).
- Accessibilit : Une conversation vivante entre Allh et Sa cration.

Directive de Formatage :
- Titres de Section : Utilisez exactement le format "N. Nom de la section" (ex: 1. Contexte de la Sourate).
- Sous-listes : Utilisez "a)", "b)", "c)" ou des puces "*" pour les sous-points afin de ne pas confondre avec les sections.
- Thmes : Utilisez des chiffres romains gras (**I.**, **II.**).
- Gras : Utilisez les doubles toiles **uniquement** pour les mots trs importants.
- Sparateurs : Utilisez "---" entre les grandes sections.`,ln=`Analyse : Sourate ${y.number}, Verset ${st.numberInSurah}. Arabe: ${st.text}. Trad: ${st.textFr}`,he=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${Kt}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:ln}]}],systemInstruction:{parts:[{text:pe}]}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text||"Erreur de gnration.";he!=="Erreur de gnration."&&await BI(Zt,{text:he,timestamp:Date.now()}),Gt(he)}catch(ae){console.error("Erreur:",ae),Gt("L'IA est momentanment indisponible.")}finally{I(!1)}},ie=({value:st,onChange:se,isDark:Zt=!1})=>$.jsx("div",{className:`flex items-center gap-1 p-1 rounded-xl border shadow-sm ${Zt?"bg-white/10 border-white/20":"bg-slate-100/80 border-slate-200"}`,children:[{val:16,label:"Aa",class:"text-[10px]"},{val:22,label:"Aa",class:"text-sm"},{val:30,label:"Aa",class:"text-lg"}].map(Kt=>$.jsx("button",{onClick:()=>se(Kt.val),className:`px-3 py-1 rounded-lg transition-all font-bold ${st===Kt.val?"bg-white text-emerald-900 shadow-sm":Zt?"text-white/60 hover:text-white hover:bg-white/10":"text-slate-400 hover:text-slate-600 hover:bg-slate-200/50"}`,children:$.jsx("span",{className:Kt.class,children:Kt.label})},Kt.val))});return $.jsxs("div",{className:"min-h-screen font-sans flex overflow-hidden bg-[var(--bg-app)] text-[var(--text-primary)]",children:[$.jsxs("aside",{className:`w-96 bg-[var(--bg-sidebar)] border-r border-[var(--border-color)] flex flex-col transition-all duration-300 ${J?"translate-x-0":"-translate-x-full lg:translate-x-0 lg:w-0 lg:opacity-0"}`,children:[$.jsxs("div",{className:"p-4 bg-emerald-800 text-white flex justify-between items-center",children:[$.jsxs("h2",{className:"font-bold flex items-center gap-2",children:[$.jsx(x_,{size:20})," An-Nr"]}),$.jsx("button",{onClick:()=>ht(!1),className:"p-1 hover:bg-emerald-700 rounded lg:hidden",children:$.jsx(qd,{size:20})})]}),$.jsx("div",{className:"p-4 border-b border-[var(--border-color)]",children:$.jsxs("div",{className:"relative",children:[$.jsx(zA,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),$.jsx("input",{type:"text",value:d,onChange:st=>p(st.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 border-none rounded-xl text-sm outline-none focus:ring-2 focus:ring-emerald-500 search-bar-input"}),d&&$.jsx("button",{onClick:()=>{p(""),mt(!1),N([])},className:"absolute right-3 top-2.5 text-slate-400 hover:text-emerald-600 transition-colors",children:$.jsx(qd,{size:16})})]})}),$.jsx("div",{className:"flex-1 overflow-y-auto px-2 py-4 scrollbar-thin",children:l.map(st=>$.jsxs("button",{onClick:()=>At(st),className:`w-full text-left p-4 rounded-2xl mb-2 transition-all flex items-center justify-between group surah-hover-effect ${y?.number===st.number?"bg-emerald-600 text-white":""}`,children:[$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsx("span",{className:`text-xs font-bold w-8 h-8 flex items-center justify-center rounded-full ${y?.number===st.number?"bg-white/20 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300"}`,children:st.number}),$.jsxs("div",{children:[$.jsx("div",{className:`font-bold text-sm mb-1 ${y?.number===st.number?"text-white":"text-emerald-700 dark:text-emerald-400"}`,children:st.englishName}),$.jsx("div",{className:`font-bold text-sm mb-1 ${y?.number===st.number?"text-white":"text-emerald-600 dark:text-emerald-400"}`,children:$.jsx("span",{children:K_[st.number]})}),$.jsxs("div",{className:`text-[10px] ${y?.number===st.number?"text-white/70":"text-slate-500"}`,children:[st.revelationType,"  ",st.numberOfAyahs]})]})]}),$.jsx("div",{className:`font-arabic text-xl ${y?.number===st.number?"text-white":"text-emerald-800 dark:text-emerald-400"}`,children:st.name})]},st.number))})]}),$.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative",children:[$.jsxs("header",{className:"h-16 border-b border-[var(--border-color)] bg-[var(--bg-sidebar)] flex items-center justify-between px-6 z-20",children:[$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsx("button",{onClick:()=>ht(!J),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:$.jsx(LA,{size:20})}),y&&$.jsx("h1",{className:"font-bold text-lg text-emerald-900 dark:text-emerald-400",children:y.englishName})]}),$.jsx(ie,{value:Jt,onChange:ve}),$.jsx("button",{onClick:()=>Lt(!ut),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:ut?$.jsx(qA,{size:20,className:"text-white"}):$.jsx(kA,{size:20,className:"text-slate-600"})})]}),$.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-10 scrollbar-thin bg-dots",children:W||Q?$.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-emerald-600 gap-4",children:[$.jsx(c0,{className:"animate-spin",size:48}),$.jsx("p",{className:"font-medium animate-pulse",children:"Recherche en cours..."})]}):it&&zt.length>0?$.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[$.jsxs("h2",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-400 mb-8",children:[zt.length,' versets trouvs pour "',d,'"']}),zt.map(st=>$.jsxs("div",{className:"border-b border-slate-100 dark:border-slate-800 pb-4",children:[$.jsxs("div",{className:"text-xs font-bold text-emerald-600 mb-2",children:["SOURATE ",st.surah.number,"  ",st.surah.englishName]}),$.jsx(L_,{v:{...st,text:Rc(st.text,d),textFr:Rc(st.textFr,d)},highlights:b,toggleHighlight:Rt,runTadabbur:()=>{_(st.surah),ge(st)}})]},st.key))]}):y?$.jsxs("div",{className:"reading-area max-w-4xl mx-auto space-y-10 pb-20",children:[y.number!==1&&y.number!==9&&$.jsx("div",{className:"text-center py-10",children:$.jsx("div",{className:"font-arabic text-5xl opacity-90",children:"   "})}),A.map(st=>$.jsx(L_,{v:{...st,text:Rc(st.text,d),textFr:Rc(st.textFr,d)},highlights:b,toggleHighlight:Rt,runTadabbur:()=>ge(st)},st.key))]}):$.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 gap-8 text-center",children:[$.jsx(x_,{size:120,strokeWidth:1}),$.jsxs("h3",{className:"text-2xl font-bold",children:[$.jsx("span",{className:"text-slate-900 dark:text-slate-700",children:"Bienvenue sur "}),$.jsx("span",{className:"text-emerald-700 dark:text-emerald-400",children:"An-Nr"})]})]})}),_t&&$.jsx(FA,{selectedVerse:_t,currentSurah:y,analysis:Ft,analyzing:xt,setSelectedVerse:dt,FontSizeSelector:ie,analysisFontSize:q,setAnalysisFontSize:et})]}),$.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @import url('https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@300;400;500;600;700&display=swap');
        .reading-area .font-arabic { font-size: calc(var(--main-font-size) * 1.8) !important; line-height: 2.5 !important; }
        .reading-area .text-slate-700, .reading-area .text-slate-600 { font-size: var(--main-font-size) !important; }
        .prose p, .prose li { font-size: var(--analysis-font-size) !important; line-height: 1.6 !important; }
        .dir-rtl { direction: rtl; }
        .scrollbar-thin::-webkit-scrollbar { width: 5px; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 10px; }
      `}})]})}bA.createRoot(document.getElementById("root")).render($.jsx(Pt.StrictMode,{children:$.jsx(QI,{})}));
